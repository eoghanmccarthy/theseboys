{"version":3,"sources":["webpack://theseboys/webpack/runtime/chunk loaded","webpack://theseboys/./src/redux/songs.js","webpack://theseboys/./store/configureStore.js","webpack://theseboys/./store/migrations.js","webpack://theseboys/./src/utils/api/index.js","webpack://theseboys/./assets/Twitter_Social_Icon_Circle_Color.svg","webpack://theseboys/./src/global/main/index.js","webpack://theseboys/./src/global/logo/index.js","webpack://theseboys/./src/global/footer/index.js","webpack://theseboys/./src/pages/home/index.js","webpack://theseboys/./src/redux/defaults.js","webpack://theseboys/./src/features/utils/helpers/interpolate.js","webpack://theseboys/./src/features/utils/helpers/fromPercent.js","webpack://theseboys/./src/features/utils/helpers/getCurrentStepValues.js","webpack://theseboys/./src/features/utils/helpers/isStepOn.js","webpack://theseboys/./src/features/utils/helpers/toPercent.js","webpack://theseboys/./src/features/utils/constants.js","webpack://theseboys/./src/componentLib/icon/chevron/index.js","webpack://theseboys/./src/componentLib/icon/circle/index.js","webpack://theseboys/./src/componentLib/icon/minus/index.js","webpack://theseboys/./src/componentLib/icon/play/index.js","webpack://theseboys/./src/componentLib/icon/plus/index.js","webpack://theseboys/./src/componentLib/icon/square/index.js","webpack://theseboys/./src/componentLib/button/index.js","webpack://theseboys/./src/features/controller/controller/index.js","webpack://theseboys/./src/features/controller/buttonControl/index.js","webpack://theseboys/./src/features/controller/controllerGroup/index.js","webpack://theseboys/./src/componentLib/slider/index.js","webpack://theseboys/./src/features/controller/sliderControl/index.js","webpack://theseboys/./src/features/trackControls/index.js","webpack://theseboys/./src/features/stepSequencer/step/index.js","webpack://theseboys/./src/features/stepSequencer/steps/index.js","webpack://theseboys/./src/features/trackSteps/index.js","webpack://theseboys/./src/features/trackEffects/trackEffects/index.js","webpack://theseboys/./src/features/trackEffects/effectsGroup/index.js","webpack://theseboys/./src/features/compressorControls/index.js","webpack://theseboys/./src/features/envelopeControls/index.js","webpack://theseboys/./src/features/eq3Controls/index.js","webpack://theseboys/./src/features/filterControls/index.js","webpack://theseboys/./src/features/distortionControls/index.js","webpack://theseboys/./src/features/reverbControls/index.js","webpack://theseboys/./src/features/delayControls/index.js","webpack://theseboys/./src/features/track/index.js","webpack://theseboys/./src/utils/studioHelpers/newArray.js","webpack://theseboys/./src/features/utils/helpers/onSequenceStep.js","webpack://theseboys/./src/features/utils/helpers/drawSteps.js","webpack://theseboys/./src/features/master/masterProvider/index.js","webpack://theseboys/./src/features/master/useMasterContext/index.js","webpack://theseboys/./src/features/master/master/index.js","webpack://theseboys/./src/pages/studio/index.js","webpack://theseboys/./src/utils/hooks/useEventListener/index.js","webpack://theseboys/./src/routes/index.js","webpack://theseboys/./src/index.js","webpack://theseboys/./index.js","webpack://theseboys/./src/reducers.js","webpack://theseboys/webpack/bootstrap","webpack://theseboys/webpack/runtime/compat get default export","webpack://theseboys/webpack/runtime/define property getters","webpack://theseboys/webpack/runtime/global","webpack://theseboys/webpack/runtime/harmony module decorator","webpack://theseboys/webpack/runtime/hasOwnProperty shorthand","webpack://theseboys/webpack/runtime/make namespace object","webpack://theseboys/webpack/runtime/node module decorator","webpack://theseboys/webpack/runtime/publicPath","webpack://theseboys/webpack/runtime/jsonp chunk loading","webpack://theseboys/webpack/startup"],"names":["deferred","initialState","s001","id","s002","s003","s004","produce","draft","action","type","payload","songId","master","data","effects","forEach","item","name","get","tracks","trackId","persistConfig","key","storage","blacklist","version","stateReconciler","autoMergeLevel2","migrate","createMigrate","0","state","app","t005","instrument","Reverb","decay","preDelay","wet","debug","getAuth","async","axios","children","className","cx","calc","x","y","window","innerHeight","innerWidth","trans","s","animate","fill","onClick","props","set","useSpring","xys","config","mass","tension","friction","xmlns","viewBox","onMouseMove","clientX","clientY","onMouseLeave","style","transform","interpolate","d","location","useLocation","history","useHistory","push","pathname","href","target","alt","width","height","src","TwitterLogo","scrolling","frameBorder","CHANNEL","pan","volume","mute","STEPS","INSTRUMENTS","i001","notes","synth","pitchDecay","octaves","oscillator","envelope","attack","sustain","release","Gain","gain","EQ3","high","highFrequency","low","lowFrequency","mid","Compressor","threshold","ratio","controls","equaliser","span","compressor","i002","i003","harmonicity","resonance","modulationIndex","Distortion","distortion","oversample","FeedbackDelay","delayTime","feedback","maxDelay","i004","noise","playbackRate","Filter","Q","detune","frequency","rolloff","filter","i005","from","minX","maxX","to","minY","maxY","clamp","slope","useClamp","val","linearStep","toFixed","interpolatedValue","rows","document","querySelectorAll","arr","i","length","rowValues","steps","getAttribute","row","step","node","querySelector","Math","round","EQ3_MIN","EQ3_MAX","VOL_MIN","memo","stroke","strokeWidth","points","cy","r","x1","y1","x2","y2","Button","testId","isDisabled","role","size","shape","variant","rest","data-testid","disabled","propTypes","oneOf","orient","label","min","max","initialValue","onChange","useEffect","handleOnChange","e","setAttribute","classList","contains","remove","add","next","parseFloat","value","orientation","Slider","forwardRef","ref","string","bool","number","func","controlRef","useRef","valueRef","setInputValue","current","onKeyDown","trackNumber","channel","onSample","alert","muted","toggle","toPercent","fromPercent","stepValue","rowIndex","stepIndex","data-value","data-status","stepButton","numberOfSteps","Array","isArray","map","rowData","gridTemplateColumns","numSteps","title","gridColumn","eq3","reverb","delay","Track","stepCount","dispatch","useDispatch","noteInterval","noteIndices","array","newArray","sequenceRef","channelRef","Channel","effectsChainRef","Object","entries","effect","options","PitchShift","getEffect","synthRef","MembraneSynth","MetalSynth","NoiseSynth","getSynth","chain","Destination","Sequence","handleOnSequenceStep","start","dispose","onTriggerAttackRelease","notesToPlay","duration","time","velocity","triggerAttackRelease","column","onStepOn","numRows","isStepOn","note","Draw","stepTotal","getElementsByClassName","drawSteps","onSequenceStep","useImperativeHandle","save","getCurrentStepValues","group","find","MasterContext","createContext","recorder","Recorder","mimeType","getContextState","getContext","getTransportState","getTransport","getRecorderState","handlePlay","Transport","handleStop","handleRecord","handleStopRecorder","recording","stop","url","URL","createObjectURL","anchor","createElement","download","click","values","useMemo","play","record","Provider","component","context","useContext","Error","bpm","onSave","useMasterContext","data-playback","data-recorder","SONGS_CONFIG","t001","t002","t003","t004","store","useSelector","selectedSongId","setSelectedSongId","useState","storedSong","songs","SONG_CONFIG","TRACKS","TRACK_IDS","tracksRef","createRef","handler","element","body","eventName","savedHandler","addEventListener","eventListener","event","removeEventListener","useEventListener","code","preventDefault","num","parseInt","charAt","scrollIntoView","focus","Fragment","track","instrumentId","withRouter","exact","path","render","auth","instance","useQuery","useGetAuth","enabled","hostname","cacheTime","isSuccess","createHistory","persistor","middlewares","routerMiddleware","enhancers","applyMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","persistReducer","combineReducers","router","connectRouter","createRootReducer","undefined","persistStore","configureStore","MOUNT_NODE","getElementById","queryClient","QueryClient","QueryClientProvider","client","ReactReduxContext","loading","ErrorBoundary","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","n","getter","__esModule","a","definition","o","defineProperty","enumerable","g","globalThis","this","Function","hmd","create","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","p","installedChunks","179","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"mappings":"6BAAIA,E,uLCIJ,MAAMC,EAAe,CACnBC,KAAM,CAAEC,GAAI,QACZC,KAAM,CAAED,GAAI,QACZE,KAAM,CAAEF,GAAI,QACZG,KAAM,CAAEH,GAAI,SAwBd,OArBcI,SAAQ,CAACC,EAAOC,KAC5B,MAAM,KAAEC,EAAF,QAAQC,GAAYF,EAC1B,OAAQC,GACN,IAAK,cACH,OAAOT,EACT,IAAK,mBACHO,EAAMG,EAAQC,QAAU,IAAKJ,EAAMG,EAAQC,QAASC,OAAQF,EAAQG,MACpE,MACF,IAAK,kBACH,MAAMC,EAAU,GAChBJ,EAAQG,KAAKC,QAAQC,SAAQC,IAC3BF,EAAQE,EAAKC,MAAQD,EAAKE,SAE5BX,EAAMG,EAAQC,QAAU,IACnBJ,EAAMG,EAAQC,QACjBQ,OAAQ,IAAKZ,EAAMG,EAAQC,QAAQQ,OAAQ,CAACT,EAAQU,SAAU,IAAKV,EAAQG,KAAMC,gBAItFd,GCrBH,MAAMqB,EAAgB,CACpBC,IAAK,OACLC,QAFoB,IAGpBC,UAAW,CAAC,UACZC,QAAS,EACTC,gBAAiBC,IACjBC,SAASC,QCZQ,CACjBC,EAAGC,IACM,IACFA,EAAMC,IACTpB,OAAQ,IAAKmB,EAAMC,IAAIpB,QACvBO,OAAQ,IACHY,EAAMC,IAAIb,OACbc,KAAM,IACDF,EAAMC,IAAIb,OAAOc,KACpBC,WAAY,IACPH,EAAMC,IAAIb,OAAOc,KAAKC,WACzBpB,QAAS,IACJiB,EAAMC,IAAIb,OAAOc,KAAKC,WAAWpB,QACpCqB,OAAQ,CAAEC,MAAO,EAAGC,SAAU,GAAKC,IAAK,YDDjB,CAAEC,OAAO,KAG9C,I,6BEfA,MAAMC,EAAUC,UACd,MAAM,KAAE5B,SAAe6B,QAAW,qBAClC,OAAO7B,GCLT,MAAe,IAA0B,8C,iBCazC,EARa,EAAG8B,WAAUzC,KAAI0C,eAE1B,wBAAM1C,GAAIA,EAAI0C,UAAWC,IAAG,WAAYD,IACrCD,G,oBCLP,MAAMG,EAAO,CAACC,EAAGC,IAAM,GAAGA,EAAIC,OAAOC,YAAc,GAAK,IAAKH,EAAIE,OAAOE,WAAa,GAAK,GAAI,KAExFC,EAAQ,CAACL,EAAGC,EAAGK,IAAO,8BAA6BN,iBAAiBC,eAAeK,KA+BzF,MA7Ba,EAAGC,WAAU,EAAOC,OAAO,uBAAwBC,cAC9D,MAAOC,EAAOC,IAAOC,SAAU,KAAM,CACnCC,IAAK,CAAC,EAAG,EAAG,GACZC,OAAQ,CAAEC,KAAM,EAAGC,QAAS,IAAKC,SAAU,QAG7C,OACE,gBAAC,SAAD,QACEC,MAAM,6BACNC,QAAQ,cACRC,YAAa,EAAGC,QAASrB,EAAGsB,QAASrB,KAAQU,EAAI,CAAEE,IAAKd,EAAKC,EAAGC,KAChEsB,aAAc,IAAMZ,EAAI,CAAEE,IAAK,CAAC,EAAG,EAAG,MACjCN,GAAW,CACdiB,MAAO,CAAEC,UAAWf,EAAMG,IAAIa,YAAYrB,KAN9C,CAQEI,QAAS,KACgB,mBAAZA,GACTA,OAIJ,wBACED,KAAMA,EACNmB,EAAE,k3CCTV,EAde,KACb,MAAMC,GAAWC,UACXC,GAAUC,UAEhB,OACE,0BAAQlC,UAAW,cACjB,gBAAC,EAAD,CACEW,KAAM,wBACNC,QAAS,IAAMqB,EAAQE,KAA2B,MAAtBJ,EAASK,SAAmB,UAAY,SCmB5E,EAxBa,IAET,gCACE,gBAAC,EAAD,CAAMpC,UAAW,SACf,2BACE,gBAAC,EAAD,CAAMU,SAAO,EAACC,KAAM,0BAEtB,uBAAKX,UAAW,gBACd,qBAAGqC,KAAM,+BAAgCC,OAAQ,UAC/C,uBAAKC,IAAK,eAAgBZ,MAAO,CAAEa,MAAO,OAAQC,OAAQ,QAAUC,IAAKC,KAE3E,0BACEC,UAAU,KACVC,YAAY,KACZH,IAAI,wGACJf,MAAO,CAAEa,MAAO,OAAQC,OAAQ,YAItC,gBAAC,EAAD,O,UC7BN,MAAMK,EAAU,CACdC,IAAK,EACLC,OAAQ,EACRC,MAAM,GAKFC,EAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAEvDC,EAAc,CAClBC,KAAM,CACJ9F,GAAI,OACJe,KAAM,GACNgF,MAAO,CAAC,MACR/D,WAAY,gBACZgE,MAAO,CACLC,WAAY,IACZC,QAAS,EACTC,WAAY,CACV5F,KAAM,WAER6F,SAAU,CACRC,OAAQ,GACRnE,MAAO,IACPoE,QAAS,GACTC,QAAS,KAGb3F,QAAS,CACP4F,KAAM,CAAEC,KAAM,GACdC,IAAK,CACHC,MAAO,mBACPC,cAAe,KACfC,KAAM,mBACNC,aAAc,IACdC,KAAM,oBAERC,WAAY,CACVC,WAAY,GACZC,MAAO,EACPb,OAAQ,KACRE,QAAS,KAGbY,SAAU,CACRC,UAAW,CAAEC,KAAM,aAAczG,QAAS,CAAC,QAC3C0G,WAAY,CAAED,KAAM,aAAczG,QAAS,CAAC,iBAGhD2G,KAAM,CACJvH,GAAI,OACJe,KAAM,GACNgF,MAAO,CAAC,MACR/D,WAAY,gBACZgE,MAAO,CACLC,WAAY,IACZC,QAAS,EACTC,WAAY,CACV5F,KAAM,WAER6F,SAAU,CACRC,OAAQ,KACRnE,MAAO,IACPoE,QAAS,GACTC,QAAS,KAGb3F,QAAS,CACP4F,KAAM,CAAEC,KAAM,GACdC,IAAK,CACHC,KAAM,EACNC,cAAe,KACfC,IAAK,EACLC,aAAc,IACdC,KAAM,IAERC,WAAY,CACVC,WAAY,GACZC,MAAO,EACPb,OAAQ,KACRE,QAAS,KAGbY,SAAU,CACRC,UAAW,CAAEC,KAAM,aAAczG,QAAS,CAAC,QAC3C0G,WAAY,CAAED,KAAM,aAAczG,QAAS,CAAC,iBAGhD4G,KAAM,CACJxH,GAAI,OACJe,KAAM,GACNgF,MAAO,CAAC,MACR/D,WAAY,aACZgE,MAAO,CACLyB,YAAa,GACbC,UAAW,IACXC,gBAAiB,GACjBjC,QAAS,GACTU,SAAU,CACRC,OAAQ,EACRnE,MAAO,GACPoE,QAAS,KACTC,QAAS,OAGb3F,QAAS,CACP4F,KAAM,CAAEC,KAAM,GACdC,IAAK,CACHC,KAAM,kBACNC,cAAe,KACfC,KAAM,kBACNC,aAAc,IACdC,IAAK,GAEPa,WAAY,CAAEC,WAAY,EAAGC,WAAY,KAAM1F,IAAK,KACpDH,OAAQ,CAAEC,MAAO,EAAGC,SAAU,GAAKC,IAAK,KACxC2F,cAAe,CACbC,UAAW,IACXC,SAAU,EAAI,EACd7F,IAAK,GACL8F,SAAU,IAGdf,SAAU,CACRC,UAAW,CAAEC,KAAM,aAAczG,QAAS,CAAC,QAC3CA,QAAS,CAAEyG,KAAM,aAAczG,QAAS,CAAC,aAAc,SAAU,oBAGrEuH,KAAM,CACJnI,GAAI,OACJe,KAAM,GACNiB,WAAY,aACZgE,MAAO,CACLN,QAAS,EACT0C,MAAO,CACL7H,KAAM,QACN8H,aAAc,GAEhBjC,SAAU,CACRC,OAAQ,KACRnE,MAAO,IACPoE,QAAS,EACTC,QAAS,IAGb3F,QAAS,CACP8F,IAAK,CACHC,KAAM,kBACNC,cAAe,KACfC,KAAM,GACNC,aAAc,IACdC,KAAM,IAERuB,OAAQ,CAAEC,EAAG,EAAGC,OAAQ,EAAGC,UAAW,KAAOhC,KAAM,EAAGiC,SAAU,GAAInI,KAAM,YAE5E4G,SAAU,CACRC,UAAW,CAAEC,KAAM,aAAczG,QAAS,CAAC,QAC3C+H,OAAQ,CAAEtB,KAAM,aAAczG,QAAS,CAAC,aAG5CgI,KAAM,CACJ5I,GAAI,OACJe,KAAM,GACNiB,WAAY,aACZgE,MAAO,CACLN,QAAS,EACT0C,MAAO,CACL7H,KAAM,QACN8H,aAAc,GAEhBjC,SAAU,CACRC,OAAQ,KACRnE,MAAO,GACPoE,QAAS,KACTC,QAAS,MAGb3F,QAAS,CACP8F,IAAK,CACHC,KAAM,kBACNC,cAAe,KACfC,KAAM,GACNC,aAAc,IACdC,KAAM,IAERuB,OAAQ,CAAEC,EAAG,EAAGC,OAAQ,EAAGC,UAAW,MAAOhC,KAAM,EAAGiC,SAAU,GAAInI,KAAM,WAC1E0B,OAAQ,CAAEC,MAAO,EAAGC,SAAU,GAAKC,IAAK,MAE1C+E,SAAU,CACRC,UAAW,CAAEC,KAAM,aAAczG,QAAS,CAAC,QAC3C+H,OAAQ,CAAEtB,KAAM,aAAczG,QAAS,CAAC,c,cCjK9C,MAlBoB,EAClBiI,MAAOC,EAAMC,GAAQ,CAAC,EAAG,KACzBC,IAAKC,EAAMC,GAAQ,CAAC,EAAG,KACvBC,SAAQ,MAER,MAAMC,GAASF,EAAOD,IAASF,EAAOD,GAUtC,OARA,SAA+BjG,GAK7B,OAxBJ,SAAoBgG,EAAMG,EAAInG,EAAGwG,GAC/B,OAAOA,EAGT,SAAeR,EAAMG,EAAInG,GACvB,IAAIyG,EAAMzG,EAIV,OAHIyG,EAAMT,IAAMS,EAAMT,GAClBS,EAAMN,IAAIM,EAAMN,GAEbM,EARWH,CAAMN,EAAMG,EAAInG,GAAKA,EAuB9B0G,CAAWN,EAAMC,EAFZE,EAAQvG,IAFTuG,EAAQN,EAAOG,GAISE,KCtBvC,GAAgBH,EAAK,CAAC,EAAG,KAAMM,EAAKE,EAAU,IAClBjF,EAAY,CAAEyE,MACjCS,CAAkBH,GCJ3B,EAAepI,IACb,MAAMwI,EAAOC,SAASC,iBAAkB,IAAG1I,kBAC3C,IAAI2I,EAAM,GACV,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAKK,OAAQD,IAAK,CACpC,IAAIE,EAAY,GAChB,MAAMC,EAAQP,EAAKI,GAAGF,iBAAkB,SACxC,IAAK,IAAIE,EAAI,EAAGA,EAAIG,EAAMF,OAAQD,IACQ,OAAxCG,EAAMH,GAAGI,aAAa,cAAyBF,EAAUnF,KAAK,GAAKmF,EAAUnF,KAAK,GAEpFgF,EAAIhF,KAAKmF,GAEX,OAAOH,GCAT,GAAgB3I,EAASiJ,EAAKC,KAK5B,GAAuB,iBAAZlJ,EAET,OAAO,EAGT,MAAMmJ,EAAOV,SAASW,cAAe,IAAGpJ,eAAqBiJ,UAAYC,KAEzE,QAAKC,GAOY,OAFHA,EAAKH,aAAa,eC1BlC,GAAgBrB,EAAO,CAAC,EAAG,KAAMS,KAC/B,MAAMG,EAAoBlF,EAAY,CAAEsE,SACxC,OAAO0B,KAAKC,MAAMf,EAAkBH,KCJtC,MAEMmB,GAAW,GACXC,EAAU,GACVC,GAAW,GCmBjB,OApBgBC,WACd,EAAGlI,YAAWwC,QAAQ,OAAQ2F,SAAS,4BAA6BC,cAAc,OAE9E,uBACEpI,UAAWC,IAAG,WAAYD,GAC1BwC,MAAOA,EACPlB,QAAQ,YACRD,MAAM,8BAEN,4BACEgH,OAAO,mBACP1H,KAAM,cACNwH,OAAQA,EACRC,YAAaA,OCQvB,GArBeF,WACb,EACElI,YACAwC,QAAQ,OACR7B,OAAO,4BACPwH,SAAS,4BACTC,cAAc,OAGZ,uBACEpI,UAAWC,IAAG,WAAYD,GAC1BwC,MAAOA,EACPlB,QAAQ,cACRD,MAAM,8BAEN,0BAAQpB,GAAG,MAAMqI,GAAG,MAAMC,EAAG,MAAO5H,KAAMA,EAAMwH,OAAQA,EAAQC,YAAaA,OCQrF,GAvBcF,WACZ,EAAGlI,YAAWwC,QAAQ,OAAQ2F,SAAS,4BAA6BC,cAAc,OAE9E,uBACEpI,UAAWC,IAAG,WAAYD,GAC1BwC,MAAOA,EACPlB,QAAQ,YACRD,MAAM,8BAEN,wBACEmH,GAAG,IACHC,GAAG,KACHC,GAAG,KACHC,GAAG,KACHhI,KAAM,cACNwH,OAAQA,EACRC,YAAaA,OCUvB,GA1BgBF,WACd,EACElI,YACAwC,QAAQ,OACR7B,OAAO,4BACPwH,SAAS,4BACTC,cAAc,OAGZ,uBACEpI,UAAWC,IAAG,WAAYD,GAC1BwC,MAAOA,EACPlB,QAAQ,cACRD,MAAM,8BAEN,2BACEgH,OAAQ,0BACR1H,KAAMA,EACNwH,OAAQA,EACRC,YAAaA,OCavB,IAhCaF,WACX,EAAGlI,YAAWwC,QAAQ,OAAQ2F,SAAS,4BAA6BC,cAAc,OAE9E,uBACEpI,UAAWC,IAAG,WAAYD,GAC1BwC,MAAOA,EACPlB,QAAQ,YACRD,MAAM,8BAEN,wBACEmH,GAAG,KACHC,GAAG,IACHC,GAAG,KACHC,GAAG,KACHhI,KAAM,cACNwH,OAAQA,EACRC,YAAaA,IAEf,wBACEI,GAAG,IACHC,GAAG,KACHC,GAAG,KACHC,GAAG,KACHhI,KAAM,cACNwH,OAAQA,EACRC,YAAaA,OCJvB,IArBeF,WACb,EACElI,YACAwC,QAAQ,OACR7B,OAAO,4BACPwH,SAAS,4BACTC,cAAc,OAGZ,uBACEpI,UAAWC,IAAG,WAAYD,GAC1BwC,MAAOA,EACPlB,QAAQ,cACRD,MAAM,8BAEN,wBAAMmB,MAAM,MAAMC,OAAO,MAAM9B,KAAMA,EAAMwH,OAAQA,EAAQC,YAAaA,OCZhF,MAAMQ,IAASV,WACb,EACEnI,WACAzC,KACAuL,SACAC,cAAa,EACb9I,YACA+I,OAAO,SACPlL,OAAO,SACPmL,OAAO,GACPC,QAAQ,SACRC,aACGC,KAGD,kCACE7L,GAAIA,EACJ8L,cAAaP,EACbQ,SAAUP,EACV9I,UAAWC,IACT,YACA,CACE,CAAE,QAAO+I,KAASA,GAAoB,SAAZE,EAC1B,CAACD,GAAQA,GAAqB,SAAZC,EAClB,CAACA,GAAUA,EACXG,SAAUP,GAEZ9I,GAEF+I,KAAMA,EACNlL,KAAMA,GACFsL,GAEHpJ,KAMT,UAEA6I,GAAOU,UAAY,CACjBN,MAAMO,WAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACrCN,OAAOM,WAAM,CAAC,SAAU,aCnC1B,QARmBrB,WAAK,EAAGnI,WAAUzC,KAAIkM,SAAS,cAE9C,uBAAKlM,GAAIA,EAAI0C,UAAWC,IAAG,aAAc,CAAE,CAACuJ,GAASA,KAClDzJ,KCkEP,IApEsBmI,WACpB,EACE5K,KACAkM,SAAS,WACTC,QACA/B,OAAO,EACPgC,MAAM,EACNC,MAAM,IACNC,eACA9C,UAAU,EACV+C,gBAEAC,gBAAU,KACRC,EAAeH,KACd,CAACA,IAEJ,MAAMG,EAAiBnD,IAAO,QAC5B,KAAmB,iBAARA,GAAoBA,EAAM8C,GAAO9C,EAAM+C,GAAlD,CAK4B,MAA5B,GAHA,UAAA1C,SAASC,iBAAkB,IAAG5J,qBAA9B,SAA8Ca,SAAQ6L,GAAKA,EAAEC,aAAa,QAAU,GAAErD,OACtF,UAAAK,SAASW,cAAe,IAAGtK,uBAA3B,SAA6C2M,aAAa,QAASrD,EAAIE,QAAQA,IAE3EF,EAAM8C,GAAO9C,EAAM+C,EACrB,UAAA1C,SACGC,iBAAkB,IAAG5J,qBADxB,SAEIa,SAAQ6L,GAAKA,EAAEE,UAAUC,SAAS,UAAYH,EAAEE,UAAUE,OAAO,gBAChE,GAAIxD,IAAQ8C,EAAK,OACtB,UAAAzC,SAASW,cAAe,IAAGtK,yBAA3B,SAA+C4M,UAAUG,IAAI,cACxD,GAAIzD,IAAQ+C,EAAK,OACtB,UAAA1C,SAASW,cAAe,IAAGtK,yBAA3B,SAA+C4M,UAAUG,IAAI,SAG/DR,EAASjD,KAGX,OACE,gBAAC,GAAD,CAAYtJ,GAAIA,EAAIkM,OAAQA,GAC1B,yBAAOxJ,UAAW,SAAUyJ,GAC5B,uBAAKzJ,UAAW,YACd,gBAAC,GAAD,CACEA,UAAW,cACXgJ,KAAM,GACNpI,QAASoJ,IACP,MAAMM,EAAOC,WAAWP,EAAE1H,OAAOkI,OAAS9C,EACtC4C,EAAOZ,GACXK,EAAeO,KAGjB,gBAAC,EAAD,CAAO9H,MAAO,SAEhB,gBAAC,GAAD,CACExC,UAAW,cACXgJ,KAAM,GACNpI,QAASoJ,IACP,MAAMM,EAAOC,WAAWP,EAAE1H,OAAOkI,OAAS9C,EACtC4C,EAAOX,GACXI,EAAeO,KAGjB,gBAAC,GAAD,CAAM9H,MAAO,UAGjB,wBAAMxC,UAAW,cC5DzB,IAJwBkI,WAAK,EAAGnI,WAAU0K,cAAc,gBAC/C,uBAAKzK,UAAWC,IAAG,mBAAoB,CAAE,CAACwK,GAAcA,KAAiB1K,KCAlF,MAAM2K,IAASxC,WACbyC,iBACE,EAEIrN,KACAuL,SACA7I,YACAwJ,SAAS,aACTV,cAAa,EACbpB,OAAO,GACPgC,MAAM,EACNC,MAAM,EACNE,cACGV,GAELyB,IAGE,iCACEA,IAAKA,EACLtN,GAAIA,EACJ8L,cAAaP,EACb7I,UAAWC,IACT,YACA,CAAE,CAAE,UAASuJ,KAAWA,EAAQH,SAAUP,GAC1C9I,GAEFqJ,SAAUP,EACVU,OAAQA,EACR3L,KAAM,QACN6J,KAAMA,EACNiC,IAAKA,EACLD,IAAKA,EACLG,SAAUA,GACNV,OAOd,UAEAuB,GAAOpB,UAAY,CACjBE,OAAQqB,SACR/B,WAAYgC,OACZpD,KAAMqD,SACNpB,IAAKoB,SACLrB,IAAKqB,SACLlB,SAAUmB,mBCuBZ,QAzEsB9C,WACpB,EACE5K,KACAkM,SAAS,WACTC,QACA/B,OAAO,GACPgC,MAAM,EACNC,MAAM,EACNC,eACA9C,UAAU,EACV+C,eAEA,MAAMoB,GAAaC,YAAO,MACpBC,GAAWD,YAAO,OAExBpB,gBAAU,KACRC,EAAeH,KACd,CAACA,IAEJ,MAAMG,EAAiB,CAACnD,EAAKwE,GAAgB,KAExCH,YAAYI,SACZF,YAAUE,SACI,iBAARzE,GACPA,EAAM8C,GACN9C,EAAM+C,IAIJyB,IACFH,EAAWI,QAAQb,MAAS,GAAE5D,KAGhCuE,EAASE,QAAQpB,aAAa,QAASrD,EAAIE,QAAQA,IAEnD+C,EAASjD,KAGX,OACE,gBAAC,GAAD,CAAYtJ,GAAIA,EAAIkM,OAAQA,GAC1B,yBAAOxJ,UAAW,SAAUyJ,GAC5B,uBAAKzJ,UAAW,YACd,gBAAC,GAAD,CACE4K,IAAKK,EACLjL,UAAW,UACXwJ,OAAQA,EACR9B,KAAMA,EACNgC,IAAKA,EACLC,IAAKA,EACLE,SAAUG,GAAKD,EAAeQ,WAAWP,EAAE1H,OAAOkI,QAAQ,GAC1Dc,UAAWtB,IACT,OAAQA,EAAEtL,KACR,IAAK,IACHqL,EAAeL,GACf,MACF,IAAK,IACHK,EAAeJ,GACf,MACF,IAAK,IACHI,EAAeH,QAQzB,wBAAMgB,IAAKO,EAAUnL,UAAW,cCPxC,IArDsBkI,WAAK,EAAG1J,UAAS+M,cAAaC,UAASC,cACtDjN,GAAYgN,EAGf,uBAAKlO,GAAK,GAAEkB,aAAoBwB,UAAY,kBAC1C,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAQ1C,GAAK,GAAEkB,WAAkBwK,KAAM,GAAIpI,QAAS6K,GACjDF,GAEH,gBAAC,GAAD,CACEvL,UAAWC,IAAG,CAAEyL,MAAOF,EAAQG,QAC/B3C,KAAM,GACNpI,QAASoJ,IACPwB,EAAQ1K,IAAI,CAAEmC,MAAOuI,EAAQG,QAC7B3B,EAAE1H,OAAO4H,UAAU0B,OAAO,WAL9B,MAWF,gBAAC,GAAD,KACE,gBAAC,GAAD,CACEtO,GAAK,GAAEkB,WACPgL,OAAQ,aACRC,MAAO,MACPG,aAAciC,EAAU,CAAC5D,EbhCnB,IagCsCuD,EAAQlN,MAAM0E,SAAW,EACrE6G,SAAUjD,GAAO4E,EAAQ1K,IAAI,CAAEkC,OAAQ8I,EAAY,CAAC7D,EbjC9C,IaiCiErB,OAEzE,gBAAC,GAAD,CACEtJ,GAAK,GAAEkB,QACPgL,OAAQ,aACRC,MAAO,MACP/B,KAAM,GACNgC,KAAM,EACNC,IAAK,EACL7C,QAAS,EACT8C,aAAc4B,EAAQlN,MAAMyE,KAAO,EACnC8G,SAAUjD,GAAO4E,EAAQ1K,IAAI,CAAEiC,IAAK6D,MAEtC,gBAAC,GAAD,CACEoC,KAAM,GACNpI,QAASoJ,IAAK,MACZ,UAAA/C,SAASW,cAAe,IAAGpJ,oBAA3B,SAA+C0L,UAAU0B,OAAO,UAChE5B,EAAE1H,OAAO4H,UAAU0B,OAAO,aAG5B,gBAAC,EAAD,CAASpJ,MAAO,WA7CS,OCoCnC,IA1Ca0F,WAAK,EAAG1J,UAASuN,YAAWC,WAAUC,eAC5CzN,GAA+B,iBAAbwN,GAA8C,iBAAdC,EAwBrD,wBACEjM,UAAY,QAAOxB,cAAoBwN,UAAiBC,IACxDC,aAAYH,EAAY,KAAO,MAC/BI,cAAa,OACbvL,QAxBgB,KAClB,MAAMwL,EAAanF,SAASW,cACzB,SAAQpJ,cAAoBwN,UAAiBC,KAG3CG,IAOc,QAFAA,EAAW5E,aAAa,cAGzC4E,EAAWnC,aAAa,aAAc,MAEtCmC,EAAWnC,aAAa,aAAc,UAWtC,uBAAKjK,UAAW,YAAaqB,MAAO,6BAA8BC,QAAS,cAC3E,uBAAKtB,UAAW,gBAAiBqB,MAAO,6BAA8BC,QAAS,aAC7E,0BAAQrB,GAAI,KAAMqI,GAAI,KAAMC,EAAG,OAEjC,uBAAKvI,UAAW,eAAgBqB,MAAO,6BAA8BC,QAAS,aAC5E,0BAAQrB,GAAI,KAAMqI,GAAI,KAAMC,EAAG,SAlC5B,OCiCX,IApCcL,WAAK,EAAG1J,UAAS6N,gBAAgB,GAAIzC,kBAC5CpL,GAAY8N,MAAMC,QAAQ3C,GAK7B,uBAAK5J,UAAY,kBACd4J,EAAa4C,KAAI,CAACC,EAAST,IACrBM,MAAMC,QAAQE,GAKjB,uBACE/N,IAAKsN,EACLrK,MAAO,CAAE+K,oBAAsB,UAASL,UACxCrM,UAAY,SAAQxB,WAAiBwN,KAEpCS,EAAQD,KAAI,CAACT,EAAWE,IAErB,gBAAC,GAAD,CACEvN,IAAKuN,EACLzN,QAASA,EACTuN,UAAWA,EACXC,SAAUA,EACVC,UAAWA,OAhBZ,QAPN,OCMX,IARmB/D,WAAK,EAAG1J,UAASmO,WAAW,GAAI/C,kBAE/C,uBAAKtM,GAAK,GAAEkB,UAAiBwB,UAAW,eACtC,gBAAC,GAAD,CAAOxB,QAASA,EAAS6N,cAAeM,EAAU/C,aAAcA,OCGtE,IARqB1B,WAAK,EAAGnI,WAAUvB,aAEnC,uBAAKlB,GAAK,GAAEkB,YAAmBwB,UAAW,iBACvCD,KCYP,IAfqBmI,WAAK,EAAGvG,QAAQ,GAAI5B,WAAU4E,OAAMiI,QAAQ,MAE7D,uBAAKjL,MAAO,CAAEkL,WAAYlI,KAAShD,GAAS3B,UAAW,iBACrD,uBAAKA,UAAW,YAAaD,GAC5B6M,EACC,uBAAK5M,UAAW,SACd,4BACA,4BAAO4M,GACP,6BAEA,QCwBV,IAlC2B1E,WAAK,EAAG1J,UAASoG,gBACrCpG,GAAYoG,EAGf,gCACE,gBAAC,GAAD,CACEtH,GAAK,GAAEkB,qBACPiL,MAAO,MACP/B,KAAM,EACNgC,IAAK,EACLC,IAAK,GACLC,aAAchF,EAAWtG,MAAMkG,OAAS,EACxCqF,SAAUjD,GAAOhC,EAAW9D,IAAI,CAAE0D,MAAOoC,MAE3C,gBAAC,GAAD,CACEtJ,GAAK,GAAEkB,sBACPiL,MAAO,MACP/B,KAAM,KACNZ,QAAS,EACT8C,aAAchF,EAAWtG,MAAMqF,QAAU,EACzCkG,SAAUjD,GAAOhC,EAAW9D,IAAI,CAAE6C,OAAQiD,MAE5C,gBAAC,GAAD,CACEtJ,GAAK,GAAEkB,uBACPiL,MAAO,MACP/B,KAAM,KACNZ,QAAS,EACT8C,aAAchF,EAAWtG,MAAMuF,SAAW,EAC1CgG,SAAUjD,GAAOhC,EAAW9D,IAAI,CAAE+C,QAAS+C,OA3Bb,OC2CtC,IA5CyBsB,WAAK,EAAG1J,UAASkF,cACnClF,GAAYkF,EAGf,gCACE,gBAAC,GAAD,CACEpG,GAAK,GAAEkB,oBACPiL,MAAO,MACP/B,KAAM,KACNiC,IAAK,EACL7C,QAAS,EACT8C,aAAclG,EAASpF,MAAMqF,QAAU,EACvCkG,SAAUjD,GAAOlD,EAAS5C,IAAI,CAAE6C,OAAQiD,MAE1C,gBAAC,GAAD,CACEtJ,GAAK,GAAEkB,mBACPiL,MAAO,MACP/B,KAAM,KACNiC,IAAK,EACL7C,QAAS,EACT8C,aAAclG,EAASpF,MAAMkB,OAAS,EACtCqK,SAAUjD,GAAOlD,EAAS5C,IAAI,CAAEtB,MAAOoH,MAEzC,gBAAC,GAAD,CACEtJ,GAAK,GAAEkB,qBACPiL,MAAO,MACP/B,KAAM,KACNZ,QAAS,EACT8C,aAAclG,EAASpF,MAAMsF,SAAW,EACxCiG,SAAUjD,GAAOlD,EAAS5C,IAAI,CAAE8C,QAASgD,MAE3C,gBAAC,GAAD,CACEtJ,GAAK,GAAEkB,qBACPiL,MAAO,MACP/B,KAAM,KACNiC,IAAK,EACL7C,QAAS,EACT8C,aAAclG,EAASpF,MAAMuF,SAAW,EACxCgG,SAAUjD,GAAOlD,EAAS5C,IAAI,CAAE+C,QAAS+C,OArCb,OCmCpC,IAjCoBsB,WAAK,EAAG1J,UAASsO,SAC9BtO,GAAYsO,EAGf,gCACE,gBAAC,GAAD,CACExP,GAAK,GAAEkB,YACPiL,MAAO,MACP/B,KAAM,EACNiC,IAAK,IACLC,aAAciC,EAAU,CAAC9D,EAASC,GAAU8E,EAAIxO,MAAM6F,MAAQ,EAC9D0F,SAAUjD,GAAOkG,EAAIhM,IAAI,CAAEqD,IAAK2H,EAAY,CAAC/D,EAASC,GAAUpB,OAElE,gBAAC,GAAD,CACEtJ,GAAK,GAAEkB,YACPiL,MAAO,MACP/B,KAAM,EACNiC,IAAK,IACLC,aAAciC,EAAU,CAAC9D,EAASC,GAAU8E,EAAIxO,MAAM+F,MAAQ,EAC9DwF,SAAUjD,GAAOkG,EAAIhM,IAAI,CAAEuD,IAAKyH,EAAY,CAAC/D,EAASC,GAAUpB,OAElE,gBAAC,GAAD,CACEtJ,GAAK,GAAEkB,aACPiL,MAAO,MACP/B,KAAM,EACNiC,IAAK,IACLC,aAAciC,EAAU,CAAC9D,EAASC,GAAU8E,EAAIxO,MAAM2F,OAAS,EAC/D4F,SAAUjD,GAAOkG,EAAIhM,IAAI,CAAEmD,KAAM6H,EAAY,CAAC/D,EAASC,GAAUpB,QA1B1C,OCY/B,IAhBuBsB,WAAK,EAAG1J,UAASyH,YACjCzH,GAAYyH,EAGf,gBAAC,GAAD,CACE3I,GAAK,GAAEkB,qBACPiL,MAAO,MACP/B,KAAM,IACNgC,IAAK,IACLC,IAAK,KACLC,aAAc3D,EAAO3H,MAAMyH,WAAa,IACxC8D,SAAUjD,GAAOX,EAAOnF,IAAI,CAAEiF,UAAWa,MAVb,OCgBlC,IAf2BsB,WAAK,EAAG1J,UAAS2G,gBACrC3G,GAAY2G,EAGf,gBAAC,GAAD,CACE7H,GAAK,GAAEkB,mBACPiL,MAAO,MACP/B,KAAM,EACNiC,IAAK,IACLC,aAAciC,EAAU,CAAC,EAAG,GAAI1G,EAAW7G,MAAMoB,MAAQ,EACzDmK,SAAUjD,GAAOzB,EAAWrE,IAAI,CAAEpB,IAAKoM,EAAY,CAAC,EAAG,GAAIlF,OAT3B,OCctC,IAfuBsB,WAAK,EAAG1J,UAASuO,YACjCvO,GAAYuO,EAGf,gBAAC,GAAD,CACEzP,GAAK,GAAEkB,eACPiL,MAAO,MACP/B,KAAM,EACNiC,IAAK,IACLC,aAAciC,EAAU,CAAC,EAAG,GAAIkB,EAAOzO,MAAMoB,MAAQ,EACrDmK,SAAUjD,GAAOmG,EAAOjM,IAAI,CAAEpB,IAAKoM,EAAY,CAAC,EAAG,GAAIlF,OAT3B,OCclC,IAfsBsB,WAAK,EAAG1J,UAASwO,WAChCxO,GAAYwO,EAGf,gBAAC,GAAD,CACE1P,GAAK,GAAEkB,cACPiL,MAAO,MACP/B,KAAM,EACNiC,IAAK,IACLC,aAAciC,EAAU,CAAC,EAAG,GAAImB,EAAM1O,MAAMoB,MAAQ,EACpDmK,SAAUjD,GAAOoG,EAAMlM,IAAI,CAAEpB,IAAKoM,EAAY,CAAC,EAAG,GAAIlF,OAT3B,OCiCjC,MAAMqG,IAAQ/E,WACZyC,iBACE,EAEI5M,SACAS,UACA+M,cACAC,UACAlM,aACA+D,QACAC,QACA4J,YACA3F,QACArJ,UACAuG,cACG0E,GAELyB,KACG,MACH,MAAMuC,GAAWC,UACXC,EAAgB,GAAEH,KAClBI,ECtDKjG,KACf,MAAMkG,EAAQ,GACd,IAAK,IAAInG,EAAI,EAAGA,EAAIC,EAAQD,IAC1BmG,EAAMpL,KAAKiF,GAEb,OAAOmG,GDiDiBC,CAASN,GAyBvBO,GAAcvC,cACdwC,GAAaxC,YAAO,IAAIyC,KAAQnC,GAAW,KAC3CoC,GAAkB1C,YACtB2C,OAAOC,QAAQ5P,GAAW,IAAIsO,KAAI,EAAEuB,EAAQC,KAjB5B,EAACD,EAAQC,EAAU,MACnB,CACdhK,IAAK,IAAIA,KAAIgK,GACblK,KAAM,IAAIA,KAAKkK,GACfzO,OAAQ,IAAIA,KAAOyO,GACnB3I,cAAe,IAAIA,KAAc2I,GACjC9I,WAAY,IAAIA,KAAW8I,GAC3BC,WAAY,IAAIA,KAAWD,GAC3B1J,WAAY,IAAIA,KAAW0J,GAC3BpI,OAAQ,IAAIA,KAAOoI,IAEND,IAM0CG,CAAUH,EAAQC,MAEvEG,GAAWjD,YA5BA,EAAC5H,EAAO0K,EAAU,MAClB,CACbI,cAAe,IAAIA,KAAcJ,GACjCK,WAAY,IAAIA,KAAWL,GAC3BM,WAAY,IAAIA,KAAWN,IAEf1K,IAuBdiL,CAASjP,EAAYgE,GAAOkL,MAC1Bd,EAAWrC,WACRuC,EAAgBvC,QACnBoD,QAIJ3E,gBAAU,KACR2D,EAAYpC,QAAU,IAAIqD,KAASC,EAAsBrB,EAAaD,GAAcuB,MAClF,GAEK,KACDnB,WAAapC,SAASoC,EAAYpC,QAAQwD,aAE/C,IAEH,MAAMC,EAAyB,CAACC,EAAaC,EAAUC,EAAMC,KACtDf,WAAU9C,UACe,eAA1B8C,EAAS9C,QAAQhN,KACnB8P,EAAS9C,QAAQ8D,qBAAqBJ,EAAY,GAAIC,EAAUC,EAAMC,GAEtEf,EAAS9C,QAAQ8D,qBAAqBH,EAAUC,EAAMC,KAIpDP,EAAuB,CAACM,EAAMG,KErG1C,EAAgB5Q,EAAS6E,EAAQ,GAAIsJ,EAAUsC,EAAMvH,EAAM2H,KACpD/C,MAAMC,QAAQlJ,KACjBA,EAAQ,IAGV,MAAMiM,EAAUzH,KAAK8B,IAAI,EAAGtG,EAAMgE,QAElC,IAAI0H,EAAc,GAElB,MAAMG,EAAoB,IAATxH,EAAa,EAAI,IAGlC,IAAK,IAAID,EAAM,EAAGA,EAAM6H,EAAS7H,IAC/B,GAAI8H,EAAS/Q,EAASiJ,EAAKC,GACzB,GAAK4E,MAAMC,QAAQlJ,IAAWA,EAAMgE,OAE7B,CACL,MAAMmI,EAAOnM,EAAMoE,GACnBsH,EAAY5M,KAAKqN,QAHjBH,EAAS,KAAMH,GAQjBH,EAAY1H,QACdgI,EAASN,EAAaG,GAGxBO,eAAc,KCjChB,EAAgBjR,EAASkR,EAAWhI,KAClC,MAAMH,EAAQN,SAAS0I,uBAAwB,QAAOnR,UAMtD,GAAK+I,EAKL,IAAK,IAAIH,EAAI,EAAGA,EAAIG,EAAMF,OAAQD,KACXA,EAAIM,GAAQgI,GAAc,EAE7CnI,EAAMH,GAAG6C,aAAa,cAAe,WAErC1C,EAAMH,GAAG6C,aAAa,cAAe,SDiBvC2F,CAAUpR,EAASmO,EAAUjF,KAC5BuH,IFyEGY,CAAerR,EAAS6E,EAAO6J,EAAW+B,EAAMG,GAAQ,CAACL,EAAaG,IACpEJ,EAAuBC,EAAa1B,EAAc4B,EAAMC,MAsB5D,OAlBAY,yBAAoBlF,GAAK,KAAM,CAC7BmF,OACE5C,EAAS,CACPtP,KAAM,kBACNC,QAAS,CACPC,SACAS,UACAP,KAAM,CACJuN,QAASkC,EAAWrC,QAAQ/M,MAC5BiJ,MAAOyI,EAAqBxR,GAC5B8E,MAAO6K,EAAS9C,QAAQ/M,MACxBJ,QAAS0P,EAAgBvC,iBAQjC,uBAAK/N,GAAIkB,EAASwB,UAAW,SAC3B,gBAAC,GAAD,CACExB,QAASA,EACT+M,YAAaA,EACbC,QAASkC,aAAF,EAAEA,EAAYrC,QACrBI,SAAU,IAAMqD,EAAuBzL,EAAOgK,KAEhD,gBAAC,GAAD,CAAY7O,QAASA,EAASmO,SAAUO,EAAWtD,aAAcrC,IACjE,gBAAC,GAAD,CAAc/I,QAASA,GACpBqP,OAAOC,QAAQrJ,GAAY,IAAI+H,KAAI,EAAEyD,EAAOzF,GAAQpD,IAEjD,gBAAC,GAAD,CAAc1I,IAAK0I,EAAGzC,KAAM6F,EAAM7F,KAAMiI,MAAOqD,GAC5CzF,EAAMtM,QAAQsO,KAAI,CAACnO,EAAM+I,KACxB,MAAM2G,EAASH,EAAgBvC,QAAQ6E,MAAKnC,GAAUA,EAAO1P,OAASA,IACtE,GAAK0P,EACL,MAAa,QAAT1P,EACK,gBAAC,GAAD,CAAaK,IAAK0I,EAAG5I,QAASA,EAASsO,IAAKiB,IACjC,eAAT1P,EACF,gBAAC,GAAD,CAAoBK,IAAK0I,EAAG5I,QAASA,EAASoG,WAAYmJ,IAC/C,WAAT1P,EACF,gBAAC,GAAD,CAAgBK,IAAK0I,EAAG5I,QAASA,EAASyH,OAAQ8H,IACvC,eAAT1P,EACF,gBAAC,GAAD,CAAoBK,IAAK0I,EAAG5I,QAASA,EAAS2G,WAAY4I,IAC/C,WAAT1P,EACF,gBAAC,GAAD,CAAgBK,IAAK0I,EAAG5I,QAASA,EAASuO,OAAQgB,IACvC,kBAAT1P,EACF,gBAAC,GAAD,CAAeK,IAAK0I,EAAG5I,QAASA,EAASwO,MAAOe,SADlD,QAOf,gBAAC,GAAD,CAAcpJ,KAAM,aAAciI,MAAO,YACvC,gBAAC,GAAD,CAAkBpO,QAASA,EAASkF,SAAUyK,SAAF,UAAEA,EAAU9C,eAAZ,aAAE,EAAmB3H,kBAS/E,UAEAuJ,GAAM3D,UAAY,CAChBvL,OAAQ8M,oBACRrM,QAASqM,oBACTU,YAAaR,oBACbzL,WAAYuL,oBACZqC,UAAWnC,qBI5LN,MAAMoF,IAAgBC,qBA2F7B,OAvFuB,EAAGrQ,eACxB,MAAMsQ,GAAWnF,YAAO,IAAIoF,KAAS,CAAEC,SAAU,iBAEjDzG,gBAAU,KACR2E,aAAoB4B,EAAShF,WAC5B,IAEH,MAAMmF,EAAkB,KAAMC,UAAatR,MAErCuR,EAAoB,KAAMC,UAAexR,MAEzCyR,EAAmB,kBAAMP,SAAN,UAAMA,EAAUhF,eAAhB,aAAM,EAAmBlM,OAE5C0R,EAAahR,UACS,YAAtB2Q,WACI5B,UAGuB4B,IAE/B,MAAMxS,EAASiJ,SAASW,cAAc,WAEkD,MAA5D,YAAxB8I,KAA8E,OAAzC1S,EAAOwJ,aAAa,mBAE3DsJ,aACA,UAAA9S,EAAO4J,cAAc,sBAArB,SAAqCsC,UAAUG,IAAI,UACnDrM,EAAOiM,aAAa,gBAAiB,WACVyG,IAGkB,aAAzC1S,EAAOwJ,aAAa,kBAA0D,YAAvBoJ,MACzDP,EAAShF,QAAQuD,QACjB5Q,EAAOiM,aAAa,gBAAiB,SAKrC8G,EAAa,KACjB,MAAM/S,EAASiJ,SAASW,cAAc,WAEC,MAQkB,EAR7B,YAAxB8I,MAEFI,YACA9S,EAAOiM,aAAa,gBAAiB,WACrC,UAAAjM,EAAO4J,cAAc,sBAArB,SAAqCsC,UAAUE,OAAO,UAC3BsG,KAGgB,aAAzC1S,EAAOwJ,aAAa,mBACtBxJ,EAAOiM,aAAa,gBAAiB,OACrC,UAAAjM,EAAO4J,cAAc,wBAArB,SAAuCsC,UAAUE,OAAO,WAItD4G,EAAe,KACnB,MAAMhT,EAASiJ,SAASW,cAAc,WAGgB,MAG7C,EAJmB,YAAxB8I,MAC2C,QAAzC1S,EAAOwJ,aAAa,kBACtBxJ,EAAOiM,aAAa,gBAAiB,YACrC,UAAAjM,EAAO4J,cAAc,wBAArB,SAAuCsC,UAAUG,IAAI,WAErDrM,EAAOiM,aAAa,gBAAiB,OACrC,UAAAjM,EAAO4J,cAAc,wBAArB,SAAuCsC,UAAUE,OAAO,SAC7B,YAAvBwG,KACFK,OAMFA,EAAqBpR,UACzB,MAAMqR,QAAkBb,EAAShF,QAAQ8F,OACnCC,EAAMC,IAAIC,gBAAgBJ,GAC1BK,EAAStK,SAASuK,cAAc,KACtCD,EAAOE,SAAW,iBAClBF,EAAOlP,KAAO+O,EACdG,EAAOG,SAGHC,GAASC,cAAQ,KACd,CAAElB,oBAAmBmB,KAAMhB,EAAYM,KAAMJ,EAAYe,OAAQd,KACvE,IAEH,OAAO,gBAACb,GAAc4B,SAAf,CAAwBvH,MAAOmH,GAAS5R,IC5EjD,GAXyBiS,IACvB,MAAMC,GAAUC,gBAAW/B,IAC3B,IAAK8B,EACH,MAAM,IAAIE,MACP,iGAAgGH,gBAIrG,OAAOC,GC+DT,GA7De,EAAGlU,SAAQiF,SAAQoP,MAAKC,aACrC,MAAMlF,GAAWC,WACX,KAAEyE,EAAF,KAAQV,EAAR,OAAcW,GAAWQ,GAAiB,YAEhD,OACE,2BAAShV,GAAI,SAAUiV,gBAAe,UAAWC,gBAAe,OAC9D,uBAAKxS,UAAW,OACd,gBAAC,GAAD,CACEgJ,KAAM,GACNE,QAAS,OACTD,MAAO,UACPrI,QAAS,KACiB,YAApBkQ,aACJuB,IACAlF,EAAS,CACPtP,KAAM,mBACNC,QAAS,CACPC,SACAE,KAAM,CAAEmU,IAAKtB,WAAgBsB,IAAKpP,OAAQyL,WAAkBzL,cAXpE,kBAmBF,uBAAKhD,UAAW,QACd,gBAAC,GAAD,CACE1C,GAAI,gBACJkM,OAAQ,aACRC,MAAO,MACP/B,KAAM,EACNiC,IAAK,IACLC,aAAciC,EAAU,CAAC5D,EhC1CnB,IgC0CsCjF,IAAW,EACvD6G,SAAUjD,GAAO6H,SAAgB,CAAEzL,OAAQ8I,EAAY,CAAC7D,EhC3ClD,IgC2CqErB,OAE7E,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAQ5G,UAAW,kBAAmBkJ,QAAS,WAAYtI,QAASkR,GAClE,gBAAC,EAAD,CAAQtP,MAAO,SAEjB,gBAAC,GAAD,CAAQxC,UAAW,gBAAiBkJ,QAAS,WAAYsB,MAAO,MAAO5J,QAASiR,GAC9E,gBAAC,EAAD,CAAMrP,MAAO,SAEf,gBAAC,GAAD,CAAQxC,UAAW,gBAAiBkJ,QAAS,WAAYsB,MAAO,KAAM5J,QAASuQ,GAC7E,gBAAC,GAAD,CAAQ3O,MAAO,UAGnB,gBAAC,GAAD,CACElF,GAAI,aACJkM,OAAQ,aACRC,MAAO,MACPC,IhCjEM,GgCkENC,IhCjEM,IgCkENC,aAAcwI,GAAO,IACrBvI,SAAUjD,GAAOkK,SAAc,CAAEsB,IAAKxL,SCtDhD,MAAM6L,GAAe,CACnBpV,KAAM,CAAEqV,KAAM,OAAQC,KAAM,OAAQC,KAAM,OAAQC,KAAM,OAAQxT,KAAM,QACtE9B,KAAM,CAAEmV,KAAM,OAAQC,KAAM,OAAQC,KAAM,OAAQC,KAAM,OAAQxT,KAAM,QACtE7B,KAAM,CAAEkV,KAAM,OAAQC,KAAM,OAAQC,KAAM,OAAQC,KAAM,OAAQxT,KAAM,QACtE5B,KAAM,CAAEiV,KAAM,OAAQC,KAAM,OAAQC,KAAM,OAAQC,KAAM,OAAQxT,KAAM,SA4FxE,OAzFe,KAAM,QACnB,MAAM,KAAEwS,EAAF,KAAQV,EAAR,OAAcW,GAAWQ,GAAiB,YAC1CQ,GAAQC,SAAY5T,GAASA,KAC5B6T,EAAgBC,IAAqBC,cAAS,QAE/CC,GAAavB,cAAQ,4BAAMkB,EAAMM,aAAZ,aAAM,EAAcJ,KAAiB,CAACA,IAC3DK,EAAcZ,GAAaO,GAC3BM,EAASzF,OAAOC,QAAQuF,GACxBE,EAAYD,EAAO9G,KAAI,EAAEhO,KAAaA,IAEtCgV,GAAYtI,YAAOoI,EAAO9G,KAAI,KAAMiH,oBAyC1C,MCtEuB,EAACC,EAASC,EAAU1M,SAAS2M,KAAMC,EAAY,aACtE,MAAMC,GAAe5I,eAErBpB,gBAAU,KACRgK,EAAazI,QAAUqI,IACtB,CAACA,KAEJ5J,gBAAU,KAER,IADoB6J,IAAWA,EAAQI,iBACrB,OAElB,MAAMC,EAAgBC,GAASH,EAAazI,QAAQ4I,GAIpD,OAFAN,EAAQI,iBAAiBF,EAAWG,GAE7B,KACLL,EAAQO,oBAAoBL,EAAWG,MAExC,CAACH,EAAWF,KDafQ,EAAiBnK,IACf,MAAMoK,EAAOpK,EAAEoK,KACf,OAAQA,GACN,IAAK,QACHpK,EAAEqK,iBACkB,YAApBvD,WAAgCK,IAASU,IACzC,MACF,IAAK,OACHC,IACA,MACF,IAAK,OACHrD,SAAgB,CAAExL,MAAOwL,YACzB,MACF,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,SACH,MAAM6F,EAAMC,SAASH,EAAKI,OAAOJ,EAAK/M,OAAS,IAC/C,GAAIiN,GAAOhB,EAAOjM,OAAQ,SACxB,MAAM/J,EAAKiW,EAAUe,EAAM,GAC3B,UAAArN,SAASW,cAAe,IAAGtK,YAA3B,SAAkCmX,iBAClC,UAAAxN,SAASW,cAAe,IAAGtK,mBAA3B,SAAyCoX,aAe/C,gBAAC,EAAAC,SAAD,KACE,gBAAC,EAAD,CAAMrX,GAAI,UACR,gBAAC,GAAD,CACES,OAAQiV,EACRhQ,QAAQmQ,SAAA,UAAAA,EAAYnV,cAAZ,eAAoBgF,SAAU,EACtCoP,KAAKe,SAAA,UAAAA,EAAYnV,cAAZ,eAAoBoU,MAAO,IAChCC,OAbW,KACjBmB,EAAUnI,QAAQlN,SAAQyW,IACxBA,EAAMvJ,QAAQ0E,aAaXuD,EAAO9G,KAAI,EAAEhO,EAASqW,GAAezN,KAAM,MAC1C,MAAMwN,EAAQzB,SAAH,UAAGA,EAAY5U,cAAf,aAAG,EAAqBC,GAC7Bc,EAAa6D,EAAY0R,GAC/B,OAAKvV,EAGH,gBAAC,GAAD,CACEZ,IAAKF,EACLoM,IAAK4I,EAAUnI,QAAQjE,GACvBrJ,OAAQiV,EACRxU,QAASA,EACT+M,YAAanE,EAAI,EACjB/D,MAAO/D,EAAW+D,MAClB6J,WAAW0H,aAAA,EAAAA,EAAO1H,YvCxFb,GuCyFL3F,OAAOqN,aAAA,EAAAA,EAAOrN,QAASrE,EACvBsI,SAASoJ,aAAA,EAAAA,EAAOpJ,UAAW1I,EAC3BxD,WAAYA,EAAWA,YAAc,gBACrCgE,OAAOsR,aAAA,EAAAA,EAAOtR,QAAShE,EAAWgE,MAClCpF,SAAS0W,aAAA,EAAAA,EAAO1W,UAAWoB,EAAWpB,QACtCuG,SAAUnF,EAAWmF,WAhBD,SAqB5B,gBAAC,EAAD,QE/EN,IAAeqQ,SAlBA,IACb,uBAAK9U,UAAW,MACd,gBAAC,KAAD,KACE,gBAAC,KAAD,CAAO+U,OAAK,EAACC,KAAK,IAAIC,OAAQ,IAAM,gBAAC,EAAD,QACpC,gBAAC,KAAD,CACEF,OAAK,EACLC,KAAK,UACLC,OAAQ,IACN,gBAAC,GAAD,KACE,gBAAC,GAAD,SAIN,gBAAC,KAAD,CAAOA,OAAQ,IAAM,gBAAC,EAAD,YCJ3B,IAAeH,SARH,KACV,MAAMI,EhDFkB,EAACC,EAAUnH,EAAU,MACtCoH,cAAS,CAAC,CAAE/W,KAAM,WAAY8W,aAAavV,EAAS,IACtDoO,IgDAQqH,CACX,CAAEF,SAAU,YACZ,CAAEG,QAAsC,cAA7BjV,OAAO0B,SAASwT,SAA0BC,UAAW,IAElE,MAAoC,cAA7BnV,OAAO0B,SAASwT,UAA4BL,EAAKO,UAAY,gBAAC,GAAD,MAAa,QCCnF,MAEMxT,GAAUyT,OAEV,MAAE5C,GAAF,UAAS6C,InDDf,EAAgBvY,EAAe,GAAI6E,KACjC,MAAM2T,EAAc,EAACC,OAAiB5T,IAEhC6T,EAAY,EAACC,WAAmBH,IAEhCI,EAAmB3V,OAAO4V,sCAAwCC,KAElEpD,GAAQqD,SACZC,QAAe3X,EoDrBOwD,KACxBoU,QAAgB,CACdC,QAAQC,QAActU,GACtBmR,MAAKA,IpDkByBoD,CAAkBvU,SAChDwU,EACAT,KAAoBF,IAKtB,MAAO,CAAEhD,QAAO6C,WAFEe,QAAa5D,KmDZJ6D,CAJR,GAIqC1U,IAEpD2U,GAAa3P,SAAS4P,eAAe,QAErCC,GAAc,IAAIC,KAExB9B,YACE,gBAAC,EAAA+B,oBAAD,CAAqBC,OAAQH,IAC3B,gBAAC,KAAD,CAAUhE,MAAOA,GAAOb,QAASiF,MAC/B,gBAAC,IAAD,CAAaC,QAAS,KAAMxB,UAAWA,IACrC,gBAAC,KAAD,CAAiB1T,QAASA,GAASgQ,QAASiF,MAC1C,gBAAC,EAAAE,cAAD,KACE,gBAAC,GAAD,WAMVR,MEpCES,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBd,IAAjBe,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CACjDja,GAAIia,EACJI,QAAQ,EACRF,QAAS,IAUV,OANAG,EAAoBL,GAAUM,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG3EI,EAAOC,QAAS,EAGTD,EAAOD,QAIfH,EAAoBQ,EAAIF,EvD5BpBza,EAAW,GACfma,EAAoBS,EAAI,SAASC,EAAQC,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASjR,EAAI,EAAGA,EAAIjK,EAASkK,OAAQD,IAAK,CACrC6Q,EAAW9a,EAASiK,GAAG,GACvB8Q,EAAK/a,EAASiK,GAAG,GACjB+Q,EAAWhb,EAASiK,GAAG,GAE3B,IAJA,IAGIkR,GAAY,EACPC,EAAI,EAAGA,EAAIN,EAAS5Q,OAAQkR,MACpB,EAAXJ,GAAsBC,GAAgBD,IAAatK,OAAO2K,KAAKlB,EAAoBS,GAAGU,OAAM,SAAS/Z,GAAO,OAAO4Y,EAAoBS,EAAErZ,GAAKuZ,EAASM,OAC3JN,EAASS,OAAOH,IAAK,IAErBD,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG1CG,IACFnb,EAASub,OAAOtR,IAAK,GACrB4Q,EAASE,KAGX,OAAOF,EAxBNG,EAAWA,GAAY,EACvB,IAAI,IAAI/Q,EAAIjK,EAASkK,OAAQD,EAAI,GAAKjK,EAASiK,EAAI,GAAG,GAAK+Q,EAAU/Q,IAAKjK,EAASiK,GAAKjK,EAASiK,EAAI,GACrGjK,EAASiK,GAAK,CAAC6Q,EAAUC,EAAIC,IwDJ/Bb,EAAoBqB,EAAI,SAASjB,GAChC,IAAIkB,EAASlB,GAAUA,EAAOmB,WAC7B,WAAa,OAAOnB,EAAgB,SACpC,WAAa,OAAOA,GAErB,OADAJ,EAAoBxV,EAAE8W,EAAQ,CAAEE,EAAGF,IAC5BA,GCLRtB,EAAoBxV,EAAI,SAAS2V,EAASsB,GACzC,IAAI,IAAIra,KAAOqa,EACXzB,EAAoB0B,EAAED,EAAYra,KAAS4Y,EAAoB0B,EAAEvB,EAAS/Y,IAC5EmP,OAAOoL,eAAexB,EAAS/Y,EAAK,CAAEwa,YAAY,EAAM5a,IAAKya,EAAWra,MCJ3E4Y,EAAoB6B,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,GACd,MAAOtP,GACR,GAAsB,iBAAX3J,OAAqB,OAAOA,QALjB,GCAxBiX,EAAoBiC,IAAM,SAAS7B,GASlC,OARAA,EAAS7J,OAAO2L,OAAO9B,IACX3X,WAAU2X,EAAO3X,SAAW,IACxC8N,OAAOoL,eAAevB,EAAQ,UAAW,CACxCwB,YAAY,EACZpY,IAAK,WACJ,MAAM,IAAIqR,MAAM,0FAA4FuF,EAAOpa,OAG9Goa,GCTRJ,EAAoB0B,EAAI,SAASS,EAAKC,GAAQ,OAAO7L,OAAO8L,UAAUC,eAAe/B,KAAK4B,EAAKC,ICC/FpC,EAAoB/O,EAAI,SAASkP,GACX,oBAAXoC,QAA0BA,OAAOC,aAC1CjM,OAAOoL,eAAexB,EAASoC,OAAOC,YAAa,CAAEtP,MAAO,WAE7DqD,OAAOoL,eAAexB,EAAS,aAAc,CAAEjN,OAAO,KCLvD8M,EAAoByC,IAAM,SAASrC,GAGlC,OAFAA,EAAOsC,MAAQ,GACVtC,EAAO3X,WAAU2X,EAAO3X,SAAW,IACjC2X,GCHRJ,EAAoB2C,EAAI,I,WCKxB,IAAIC,EAAkB,CACrBC,IAAK,GAaN7C,EAAoBS,EAAEQ,EAAI,SAAS6B,GAAW,OAAoC,IAA7BF,EAAgBE,IAGrE,IAAIC,EAAuB,SAASC,EAA4Brc,GAC/D,IAKIsZ,EAAU6C,EALVnC,EAAWha,EAAK,GAChBsc,EAActc,EAAK,GACnBuc,EAAUvc,EAAK,GAGImJ,EAAI,EAC3B,IAAImQ,KAAYgD,EACZjD,EAAoB0B,EAAEuB,EAAahD,KACrCD,EAAoBQ,EAAEP,GAAYgD,EAAYhD,IAGhD,GAAGiD,EAAS,IAAIxC,EAASwC,EAAQlD,GAEjC,IADGgD,GAA4BA,EAA2Brc,GACrDmJ,EAAI6Q,EAAS5Q,OAAQD,IACzBgT,EAAUnC,EAAS7Q,GAChBkQ,EAAoB0B,EAAEkB,EAAiBE,IAAYF,EAAgBE,IACrEF,EAAgBE,GAAS,KAE1BF,EAAgBjC,EAAS7Q,IAAM,EAEhC,OAAOkQ,EAAoBS,EAAEC,IAG1ByC,EAAqBC,KAA4B,sBAAIA,KAA4B,uBAAK,GAC1FD,EAAmBtc,QAAQkc,EAAqBM,KAAK,KAAM,IAC3DF,EAAmBtY,KAAOkY,EAAqBM,KAAK,KAAMF,EAAmBtY,KAAKwY,KAAKF,I,GC7CvF,IAAIG,EAAsBtD,EAAoBS,OAAEtB,EAAW,CAAC,MAAM,WAAa,OAAOa,EAAoB,SAC1GsD,EAAsBtD,EAAoBS,EAAE6C,G","file":"main.c28dd6563026dde3cee5.bundle.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","import produce from 'immer';\n\n//delayTime: `${Math.floor(16 / 2)}n`,\n\nconst initialState = {\n  s001: { id: 's001' },\n  s002: { id: 's002' },\n  s003: { id: 's003' },\n  s004: { id: 's004' }\n};\n\nconst songs = produce((draft, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case 'store/RESET':\n      return initialState;\n    case 'song/SAVE_MASTER':\n      draft[payload.songId] = { ...draft[payload.songId], master: payload.data };\n      break;\n    case 'song/SAVE_TRACK':\n      const effects = {};\n      payload.data.effects.forEach(item => {\n        effects[item.name] = item.get();\n      });\n      draft[payload.songId] = {\n        ...draft[payload.songId],\n        tracks: { ...draft[payload.songId].tracks, [payload.trackId]: { ...payload.data, effects } }\n      };\n      break;\n  }\n}, initialState);\n\nexport default songs;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport { createMigrate, persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport autoMergeLevel2 from 'redux-persist/lib/stateReconciler/autoMergeLevel2';\nimport { routerMiddleware } from 'connected-react-router';\n\nimport createRootReducer from '../src/reducers';\nimport migrations from './migrations';\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  blacklist: ['router'],\n  version: 0,\n  stateReconciler: autoMergeLevel2,\n  migrate: createMigrate(migrations, { debug: false })\n};\n\nexport default (initialState = {}, history) => {\n  const middlewares = [routerMiddleware(history)];\n\n  const enhancers = [applyMiddleware(...middlewares)];\n\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  const store = createStore(\n    persistReducer(persistConfig, createRootReducer(history)),\n    undefined,\n    composeEnhancers(...enhancers)\n  );\n\n  const persistor = persistStore(store);\n\n  return { store, persistor };\n};\n","//https://github.com/rt2zz/redux-persist/issues/1015\n//https://www.freecodecamp.org/news/how-to-use-redux-persist-when-migrating-your-states-a5dee16b5ead/\n\nconst migrations = {\n  0: state => {\n    return {\n      ...state.app,\n      master: { ...state.app.master },\n      tracks: {\n        ...state.app.tracks,\n        t005: {\n          ...state.app.tracks.t005,\n          instrument: {\n            ...state.app.tracks.t005.instrument,\n            effects: {\n              ...state.app.tracks.t005.instrument.effects,\n              Reverb: { decay: 4, preDelay: 0.2, wet: 0.28 }\n            }\n          }\n        }\n      }\n    };\n  }\n};\n\nexport default migrations;\n","import { useQuery } from 'react-query';\nimport axios from 'axios';\n\nconst getAuth = async () => {\n  const { data } = await axios.get(`http://eoghan.io/`);\n  return data;\n};\n\nexport const useGetAuth = (instance, options = {}) => {\n  return useQuery([{ name: 'get_auth', instance }], getAuth, {\n    ...options\n  });\n};\n","export default __webpack_public_path__ + \"assets/6afcb252d35b92fae5f607e460966551.svg\";","import React from 'react';\nimport cx from 'classnames';\n\nimport './index.css';\n\nconst Main = ({ children, id, className }) => {\n  return (\n    <main id={id} className={cx('me__main', className)}>\n      {children}\n    </main>\n  );\n};\n\nexport default Main;\n","import React from 'react';\nimport { useSpring, animated } from 'react-spring';\n\nconst calc = (x, y) => [-(y - window.innerHeight / 2) / 20, (x - window.innerWidth / 2) / 20, 1.1];\n\nconst trans = (x, y, s) => `perspective(600px) rotateX(${x}deg) rotateY(${y}deg) scale(${s})`;\n\nconst Logo = ({ animate = false, fill = 'var(--color-primary)', onClick }) => {\n  const [props, set] = useSpring(() => ({\n    xys: [0, 0, 1],\n    config: { mass: 5, tension: 350, friction: 40 }\n  }));\n\n  return (\n    <animated.svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 480 480\"\n      onMouseMove={({ clientX: x, clientY: y }) => set({ xys: calc(x, y) })}\n      onMouseLeave={() => set({ xys: [0, 0, 1] })}\n      {...(animate && {\n        style: { transform: props.xys.interpolate(trans) }\n      })}\n      onClick={() => {\n        if (typeof onClick === 'function') {\n          onClick();\n        }\n      }}\n    >\n      <path\n        fill={fill}\n        d=\"M240 0c-132.5 0-240 107.5-240 240s107.5 240 240 240 240-107.5 240-240-107.5-240-240-240zm111.9 177.8c-17.4 11.3-35.5 21.8-43.1 43-4.6 12.6-9.5 24.9 2.6 36.3 2.8 2.7 5.7 6.4 6.4 10 .9 4.5 1.4 12-1 13.7-7.8 5.4-5.9 11.1-4.1 18.3 6.9 27.5 13.4 55.2 19.5 82.9.7 3.3-1.7 7.4-2.6 11.1-2.9-2.7-7.3-4.9-8.4-8.3-9.7-27.2-19.3-54.4-27.8-82-2.9-9.5-6.6-12.1-16.3-9.8l-36.6 5.8c-8.9 2.1-17.1 6.8-25.8 9.7-2.9 1-6.5-.1-9.8-.2.8-2.9.7-6.8 2.6-8.7 26.9-27.2 33.3-37.2 48.8-77.3-7.7-9-15.8-9.9-25.2-3.9-19.8 12.6-39.6 25.1-59.7 37.1-13.2 7.9-26.7 15.1-40.4 22.1-3 1.5-7.3.3-11 .3 1.2-3.7 1.3-8.6 3.8-10.9 27-24.6 58-42.6 92.1-55.5 2.4-.9 4.9-2 7.2-3.3 1.4-.8 2.6-2 5-4-12.2-5.7-21-14.8-34.9-14.7-5.1.1-10.5-5.4-15.4-8.8-1.1-.7-1.5-4.6-.7-5.2 1.7-1.5 4.9-3.1 6.6-2.5 10.3 3.7 20.5 7.9 30.6 12.2 4.6 2 9.4 4 13.2 7.1 7.6 6.2 12.8 2.5 18.9-2.6 14.9-12.5 23.9-25.4 17.9-47.2-4.8-17.6-3.6-36.9-5-55.4 1.1-.2 2.2-.4 3.3-.5 4.3 23.2 8.7 46.4 13 69.9 5.2-8.3 10.3-16.4 15.4-24.5.9-1.4 1.3-3.4 2.6-4.3 2.7-2 5.8-3.4 8.7-5.1.8 3.2 3.1 7 2.2 9.6-3.7 11.1-8.3 21.9-12.8 32.7-2.8 6.7-6 13.3-9 19.9l1.6 2.4c8.3-2.7 16.6-5.2 24.8-8.2 12.2-4.5 24.1-9.8 36.5-13.7 4-1.3 11.6-.9 13.2 1.5 3.9 6.2-2.7 8.3-6.9 11zM235 289.9c11.2-20.8 21.6-40.2 32.4-60.2 18.4 13.6 11.4 34.8 19.7 52.3-18 2.7-34.3 5.2-52.1 7.9zM292.2 238c-7.5-9.7-8.9-22.1-9-34.7 0-1.4 2.7-3.6 4.5-4.2 10.2-3.6 20.6-6.8 28.8-9.4-7.6 15.1-15.8 31.4-24.3 48.3z\"\n      />\n    </animated.svg>\n  );\n};\n\nexport default Logo;\n","import React from 'react';\nimport { useLocation, useHistory } from 'react-router';\n\nimport './index.css';\n\nimport Logo from '../logo';\n\nconst Footer = () => {\n  const location = useLocation();\n  const history = useHistory();\n\n  return (\n    <footer className={'me__footer'}>\n      <Logo\n        fill={'var(--color-grey-800)'}\n        onClick={() => history.push(location.pathname === '/' ? '/studio' : '/')}\n      />\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\n\nimport './index.css';\n\nimport TwitterLogo from 'assets/Twitter_Social_Icon_Circle_Color.svg';\n\nimport Main from 'global/main';\nimport Footer from 'global/footer';\nimport Logo from 'global/logo';\n\nconst Home = () => {\n  return (\n    <>\n      <Main className={'index'}>\n        <div>\n          <Logo animate fill={'var(--color-primary)'} />\n        </div>\n        <div className={'social-links'}>\n          <a href={'http://twitter.com/theseboys'} target={'_blank'}>\n            <img alt={'Twitter logo'} style={{ width: '24px', height: '24px' }} src={TwitterLogo} />\n          </a>\n          <iframe\n            scrolling=\"no\"\n            frameBorder=\"no\"\n            src=\"https://w.soundcloud.com/icon/?url=http%3A%2F%2Fsoundcloud.com%2Ftheseboys&color=orange_white&size=24\"\n            style={{ width: '24px', height: '24px' }}\n          />\n        </div>\n      </Main>\n      <Footer />\n    </>\n  );\n};\n\nexport default Home;\n","const CHANNEL = {\n  pan: 0,\n  volume: 4,\n  mute: false\n};\n\nconst STEP_COUNT = 16;\n\nconst STEPS = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n\nconst INSTRUMENTS = {\n  i001: {\n    id: 'i001',\n    name: '',\n    notes: ['C1'],\n    instrument: 'MembraneSynth',\n    synth: {\n      pitchDecay: 0.01,\n      octaves: 6,\n      oscillator: {\n        type: 'square4'\n      },\n      envelope: {\n        attack: 0.3,\n        decay: 0.45,\n        sustain: 0.1,\n        release: 0.3\n      }\n    },\n    effects: {\n      Gain: { gain: 2 },\n      EQ3: {\n        high: -53.599999999999994,\n        highFrequency: 2500,\n        low: -16.799999999999997,\n        lowFrequency: 400,\n        mid: -53.599999999999994\n      },\n      Compressor: {\n        threshold: -30,\n        ratio: 6,\n        attack: 0.0001,\n        release: 0.1\n      }\n    },\n    controls: {\n      equaliser: { span: '1 / span 3', effects: ['EQ3'] },\n      compressor: { span: '5 / span 3', effects: ['Compressor'] }\n    }\n  },\n  i002: {\n    id: 'i002',\n    name: '',\n    notes: ['C1'],\n    instrument: 'MembraneSynth',\n    synth: {\n      pitchDecay: 0.01,\n      octaves: 6,\n      oscillator: {\n        type: 'square4'\n      },\n      envelope: {\n        attack: 0.001,\n        decay: 0.45,\n        sustain: 0.1,\n        release: 0.3\n      }\n    },\n    effects: {\n      Gain: { gain: 2 },\n      EQ3: {\n        high: 4,\n        highFrequency: 2500,\n        low: 0,\n        lowFrequency: 400,\n        mid: -12\n      },\n      Compressor: {\n        threshold: -30,\n        ratio: 6,\n        attack: 0.0001,\n        release: 0.1\n      }\n    },\n    controls: {\n      equaliser: { span: '1 / span 3', effects: ['EQ3'] },\n      compressor: { span: '5 / span 3', effects: ['Compressor'] }\n    }\n  },\n  i003: {\n    id: 'i003',\n    name: '',\n    notes: ['C1'],\n    instrument: 'MetalSynth',\n    synth: {\n      harmonicity: 12,\n      resonance: 1000,\n      modulationIndex: 20,\n      volume: -15,\n      envelope: {\n        attack: 2.0,\n        decay: 0.4,\n        sustain: 0.512,\n        release: 0.067\n      }\n    },\n    effects: {\n      Gain: { gain: 2 },\n      EQ3: {\n        high: 7.200000000000003,\n        highFrequency: 2500,\n        low: -22.39999999999999,\n        lowFrequency: 400,\n        mid: 0\n      },\n      Distortion: { distortion: 1, oversample: '4x', wet: 0.09 },\n      Reverb: { decay: 4, preDelay: 0.2, wet: 0.28 },\n      FeedbackDelay: {\n        delayTime: 0.25,\n        feedback: 1 / 3,\n        wet: 0.5,\n        maxDelay: 1\n      }\n    },\n    controls: {\n      equaliser: { span: '1 / span 3', effects: ['EQ3'] },\n      effects: { span: '5 / span 3', effects: ['Distortion', 'Reverb', 'FeedbackDelay'] }\n    }\n  },\n  i004: {\n    id: 'i004',\n    name: '',\n    instrument: 'NoiseSynth',\n    synth: {\n      volume: -8,\n      noise: {\n        type: 'white',\n        playbackRate: 5\n      },\n      envelope: {\n        attack: 0.001,\n        decay: 0.12,\n        sustain: 0,\n        release: 0\n      }\n    },\n    effects: {\n      EQ3: {\n        high: 8.799999999999995,\n        highFrequency: 2500,\n        low: -60,\n        lowFrequency: 400,\n        mid: -60\n      },\n      Filter: { Q: 1, detune: 0, frequency: 12000, gain: 0, rolloff: -48, type: 'lowpass' }\n    },\n    controls: {\n      equaliser: { span: '1 / span 3', effects: ['EQ3'] },\n      filter: { span: '5 / span 2', effects: ['Filter'] }\n    }\n  },\n  i005: {\n    id: 'i005',\n    name: '',\n    instrument: 'NoiseSynth',\n    synth: {\n      volume: -8,\n      noise: {\n        type: 'white',\n        playbackRate: 5\n      },\n      envelope: {\n        attack: 0.001,\n        decay: 0.3,\n        sustain: 0.002,\n        release: 0.32\n      }\n    },\n    effects: {\n      EQ3: {\n        high: 8.799999999999995,\n        highFrequency: 2500,\n        low: -60,\n        lowFrequency: 400,\n        mid: -60\n      },\n      Filter: { Q: 1, detune: 0, frequency: 11200, gain: 0, rolloff: -48, type: 'lowpass' },\n      Reverb: { decay: 4, preDelay: 0.2, wet: 0.28 }\n    },\n    controls: {\n      equaliser: { span: '1 / span 3', effects: ['EQ3'] },\n      filter: { span: '5 / span 2', effects: ['Filter'] }\n    }\n  }\n};\n\nexport { CHANNEL, INSTRUMENTS, STEP_COUNT, STEPS };\n","function linearStep(from, to, x, useClamp) {\n  return useClamp ? clamp(from, to, x) : x;\n}\n\nfunction clamp(from, to, x) {\n  let val = x;\n  if (val < from) val = from;\n  if (val > to) val = to;\n\n  return val;\n}\n\nconst interpolate = ({\n  from: [minX, maxX] = [0, 100],\n  to: [minY, maxY] = [0, 100],\n  clamp = true\n}) => {\n  const slope = (maxY - minY) / (maxX - minX);\n\n  function makeInterpolationFunc(x) {\n    const a = -slope * minX + minY;\n\n    const res = slope * x + a;\n\n    return linearStep(minY, maxY, res, clamp);\n  }\n\n  return makeInterpolationFunc;\n};\n\nexport default interpolate;\n","import interpolate from './interpolate';\n\nexport default (to = [0, 100], val, toFixed = 0) => {\n  const interpolatedValue = interpolate({ to });\n  return interpolatedValue(val);\n};\n","export default trackId => {\n  const rows = document.querySelectorAll(`#${trackId}-steps .steps`);\n  let arr = [];\n  for (let i = 0; i < rows.length; i++) {\n    let rowValues = [];\n    const steps = rows[i].querySelectorAll(`.step`);\n    for (let i = 0; i < steps.length; i++) {\n      steps[i].getAttribute('data-value') === 'on' ? rowValues.push(1) : rowValues.push(0);\n    }\n    arr.push(rowValues);\n  }\n  return arr;\n};\n","import consoleLog from 'utils/errorHandlers/consoleLog';\n\n/**\n * Function to check if step is scheduled to play\n *\n * @param {string} trackId\n * @param {number} row\n * @param {number} step\n * @returns {boolean}\n */\n\nexport default (trackId, row, step) => {\n  const sendError = msg => {\n    consoleLog('isStepOn helper function,', msg, trackId, row, step);\n  };\n\n  if (typeof trackId !== 'string') {\n    sendError('trackId is invalid');\n    return false;\n  }\n\n  const node = document.querySelector(`#${trackId} .step.row-${row}-step-${step}`);\n\n  if (!node) {\n    sendError('step node not found');\n    return false;\n  }\n\n  const value = node.getAttribute('data-value');\n\n  return value === 'on';\n};\n","import interpolate from './interpolate';\n\nexport default (from = [0, 100], val) => {\n  const interpolatedValue = interpolate({ from });\n  return Math.round(interpolatedValue(val));\n};\n","const BPM_MIN = 60;\nconst BPM_MAX = 240;\nconst EQ3_MIN = -60;\nconst EQ3_MAX = 20;\nconst VOL_MIN = -60;\nconst VOL_MAX = 20;\n\nexport { BPM_MIN, BPM_MAX, EQ3_MIN, EQ3_MAX, VOL_MIN, VOL_MAX };\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nconst Chevron = memo(\n  ({ className, width = '100%', stroke = 'var(--color-bluegrey-600)', strokeWidth = '4' }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 30 30\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <polyline\n          points=\"0,10 15,20 30,10\"\n          fill={'transparent'}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    );\n  }\n);\n\nexport default Chevron;\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nconst Circle = memo(\n  ({\n    className,\n    width = '100%',\n    fill = 'var(--color-bluegrey-600)',\n    stroke = 'var(--color-bluegrey-600)',\n    strokeWidth = '0'\n  }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 300 300\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <circle cx=\"150\" cy=\"150\" r={'150'} fill={fill} stroke={stroke} strokeWidth={strokeWidth} />\n      </svg>\n    );\n  }\n);\n\nexport default Circle;\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nconst Minus = memo(\n  ({ className, width = '100%', stroke = 'var(--color-bluegrey-600)', strokeWidth = '4' }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 30 30\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <line\n          x1=\"0\"\n          y1=\"15\"\n          x2=\"30\"\n          y2=\"15\"\n          fill={'transparent'}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    );\n  }\n);\n\nexport default Minus;\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nconst Polygon = memo(\n  ({\n    className,\n    width = '100%',\n    fill = 'var(--color-bluegrey-600)',\n    stroke = 'var(--color-bluegrey-600)',\n    strokeWidth = '0'\n  }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 300 300\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <polygon\n          points={'75, 25 300, 150 75, 275'}\n          fill={fill}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    );\n  }\n);\n\nexport default Polygon;\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nconst Plus = memo(\n  ({ className, width = '100%', stroke = 'var(--color-bluegrey-600)', strokeWidth = '4' }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 30 30\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <line\n          x1=\"15\"\n          y1=\"0\"\n          x2=\"15\"\n          y2=\"30\"\n          fill={'transparent'}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n        <line\n          x1=\"0\"\n          y1=\"15\"\n          x2=\"30\"\n          y2=\"15\"\n          fill={'transparent'}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    );\n  }\n);\n\nexport default Plus;\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nconst Square = memo(\n  ({\n    className,\n    width = '100%',\n    fill = 'var(--color-bluegrey-600)',\n    stroke = 'var(--color-bluegrey-600)',\n    strokeWidth = '0'\n  }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 300 300\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <rect width=\"300\" height=\"300\" fill={fill} stroke={stroke} strokeWidth={strokeWidth} />\n      </svg>\n    );\n  }\n);\n\nexport default Square;\n","import React, { memo } from 'react';\nimport { oneOf } from 'prop-types';\nimport cx from 'classnames';\n\nimport './styles.css';\n\nconst Button = memo(\n  ({\n    children,\n    id,\n    testId,\n    isDisabled = false,\n    className,\n    role = 'button',\n    type = 'button',\n    size = 48,\n    shape = 'circle',\n    variant,\n    ...rest\n  }) => {\n    return (\n      <button\n        id={id}\n        data-testid={testId}\n        disabled={isDisabled}\n        className={cx(\n          'tb-button',\n          {\n            [`size-${size}`]: size && variant !== 'text',\n            [shape]: shape && variant !== 'text',\n            [variant]: variant,\n            disabled: isDisabled\n          },\n          className\n        )}\n        role={role}\n        type={type}\n        {...rest}\n      >\n        {children}\n      </button>\n    );\n  }\n);\n\nexport default Button;\n\nButton.propTypes = {\n  size: oneOf([24, 28, 32, 36, 40, 44, 48]),\n  shape: oneOf(['circle', 'rounded'])\n};\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport './styles.css';\n\nconst Controller = memo(({ children, id, orient = 'vertical' }) => {\n  return (\n    <div id={id} className={cx('controller', { [orient]: orient })}>\n      {children}\n    </div>\n  );\n});\n\nexport default Controller;\n","import React, { memo, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Minus, Plus } from 'componentLib/icon';\nimport Button from 'componentLib/button';\nimport Controller from '../controller';\n\nconst ButtonControl = memo(\n  ({\n    id,\n    orient = 'vertical',\n    label,\n    step = 1,\n    min = 0,\n    max = 100,\n    initialValue,\n    toFixed = 0,\n    onChange\n  }) => {\n    useEffect(() => {\n      handleOnChange(initialValue);\n    }, [initialValue]);\n\n    const handleOnChange = val => {\n      if (typeof val !== 'number' || val < min || val > max) return;\n\n      document.querySelectorAll(`#${id} .control`)?.forEach(e => e.setAttribute('value', `${val}`));\n      document.querySelector(`#${id} span.value`)?.setAttribute('value', val.toFixed(toFixed));\n\n      if (val > min && val < max) {\n        document\n          .querySelectorAll(`#${id} .control`)\n          ?.forEach(e => e.classList.contains('alert') && e.classList.remove('alert'));\n      } else if (val === min) {\n        document.querySelector(`#${id} .control.dec`)?.classList.add('alert');\n      } else if (val === max) {\n        document.querySelector(`#${id} .control.inc`)?.classList.add('alert');\n      }\n\n      onChange(val);\n    };\n\n    return (\n      <Controller id={id} orient={orient}>\n        <label className={'label'}>{label}</label>\n        <div className={'controls'}>\n          <Button\n            className={'control dec'}\n            size={28}\n            onClick={e => {\n              const next = parseFloat(e.target.value) - step;\n              if (next < min) return;\n              handleOnChange(next);\n            }}\n          >\n            <Minus width={'72%'} />\n          </Button>\n          <Button\n            className={'control inc'}\n            size={28}\n            onClick={e => {\n              const next = parseFloat(e.target.value) + step;\n              if (next > max) return;\n              handleOnChange(next);\n            }}\n          >\n            <Plus width={'72%'} />\n          </Button>\n        </div>\n        <span className={'value'} />\n      </Controller>\n    );\n  }\n);\n\nexport default ButtonControl;\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nimport './styles.css';\n\nconst ControllerGroup = memo(({ children, orientation = 'horizontal' }) => {\n  return <div className={cx('controller-group', { [orientation]: orientation })}>{children}</div>;\n});\n\nexport default ControllerGroup;\n","import React, { memo, forwardRef } from 'react';\nimport { func, number, bool, string } from 'prop-types';\nimport cx from 'classnames';\n\nimport './styles.css';\n\nconst Slider = memo(\n  forwardRef(\n    (\n      {\n        id,\n        testId,\n        className,\n        orient = 'horizontal',\n        isDisabled = false,\n        step = 0.1,\n        min = 0,\n        max = 1,\n        onChange,\n        ...rest\n      },\n      ref\n    ) => {\n      return (\n        <input\n          ref={ref}\n          id={id}\n          data-testid={testId}\n          className={cx(\n            'tb-slider',\n            { [`orient-${orient}`]: orient, disabled: isDisabled },\n            className\n          )}\n          disabled={isDisabled}\n          orient={orient}\n          type={'range'}\n          step={step}\n          max={max}\n          min={min}\n          onChange={onChange}\n          {...rest}\n        />\n      );\n    }\n  )\n);\n\nexport default Slider;\n\nSlider.propTypes = {\n  orient: string,\n  isDisabled: bool,\n  step: number,\n  max: number,\n  min: number,\n  onChange: func.isRequired\n};\n","import React, { memo, useEffect, useRef } from 'react';\n\nimport Slider from 'componentLib/slider';\nimport Controller from '../controller';\n\nconst SliderControl = memo(\n  ({\n    id,\n    orient = 'vertical',\n    label,\n    step = 0.1,\n    min = 0,\n    max = 1,\n    initialValue,\n    toFixed = 0,\n    onChange\n  }) => {\n    const controlRef = useRef(null);\n    const valueRef = useRef(null);\n\n    useEffect(() => {\n      handleOnChange(initialValue);\n    }, [initialValue]);\n\n    const handleOnChange = (val, setInputValue = true) => {\n      if (\n        !controlRef?.current ||\n        !valueRef?.current ||\n        typeof val !== 'number' ||\n        val < min ||\n        val > max\n      )\n        return;\n\n      if (setInputValue) {\n        controlRef.current.value = `${val}`;\n      }\n\n      valueRef.current.setAttribute('value', val.toFixed(toFixed));\n\n      onChange(val);\n    };\n\n    return (\n      <Controller id={id} orient={orient}>\n        <label className={'label'}>{label}</label>\n        <div className={'controls'}>\n          <Slider\n            ref={controlRef}\n            className={'control'}\n            orient={orient}\n            step={step}\n            min={min}\n            max={max}\n            onChange={e => handleOnChange(parseFloat(e.target.value), false)}\n            onKeyDown={e => {\n              switch (e.key) {\n                case 'q':\n                  handleOnChange(min);\n                  break;\n                case 'w':\n                  handleOnChange(max);\n                  break;\n                case 'e':\n                  handleOnChange(initialValue);\n                  break;\n                default:\n                  break;\n              }\n            }}\n          />\n        </div>\n        <span ref={valueRef} className={'value'} />\n      </Controller>\n    );\n  }\n);\n\nexport default SliderControl;\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nimport './styles.css';\n\nimport { fromPercent, toPercent } from '../utils';\nimport { VOL_MIN, VOL_MAX } from '../utils/constants';\n\nimport { Chevron } from 'componentLib/icon';\nimport Button from 'componentLib/button';\nimport { ButtonControl, ControllerGroup } from '../controller';\n\nconst TrackControls = memo(({ trackId, trackNumber, channel, onSample }) => {\n  if (!trackId || !channel) return null;\n\n  return (\n    <div id={`${trackId}-controls`} className={`track-controls`}>\n      <ControllerGroup>\n        <Button id={`${trackId}-sample`} size={32} onClick={onSample}>\n          {trackNumber}\n        </Button>\n        <Button\n          className={cx({ alert: channel.muted })}\n          size={32}\n          onClick={e => {\n            channel.set({ mute: !channel.muted });\n            e.target.classList.toggle('alert');\n          }}\n        >\n          M\n        </Button>\n      </ControllerGroup>\n      <ControllerGroup>\n        <ButtonControl\n          id={`${trackId}-volume`}\n          orient={'horizontal'}\n          label={'VOL'}\n          initialValue={toPercent([VOL_MIN, VOL_MAX], channel.get().volume) ?? 0}\n          onChange={val => channel.set({ volume: fromPercent([VOL_MIN, VOL_MAX], val) })}\n        />\n        <ButtonControl\n          id={`${trackId}-pan`}\n          orient={'horizontal'}\n          label={'PAN'}\n          step={0.1}\n          min={-1}\n          max={1}\n          toFixed={1}\n          initialValue={channel.get().pan ?? 0}\n          onChange={val => channel.set({ pan: val })}\n        />\n        <Button\n          size={36}\n          onClick={e => {\n            document.querySelector(`#${trackId}-effects`)?.classList.toggle('hidden');\n            e.target.classList.toggle('rotated');\n          }}\n        >\n          <Chevron width={'60%'} />\n        </Button>\n      </ControllerGroup>\n    </div>\n  );\n});\n\nexport default TrackControls;\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nimport './styles.css';\n\nimport consoleLog from 'utils/errorHandlers/consoleLog';\n\nconst Step = memo(({ trackId, stepValue, rowIndex, stepIndex }) => {\n  if (!trackId || typeof rowIndex !== 'number' || typeof stepIndex !== 'number') {\n    return null;\n  }\n\n  const handleClick = () => {\n    const stepButton = document.querySelector(\n      `.step.${trackId}-step.row-${rowIndex}-step-${stepIndex}`\n    );\n\n    if (!stepButton) {\n      consoleLog(`step not found ${trackId} ${rowIndex} ${stepIndex}`);\n      return;\n    }\n\n    const stepStatus = stepButton.getAttribute('data-value');\n\n    if (stepStatus === 'off') {\n      stepButton.setAttribute('data-value', 'on');\n    } else {\n      stepButton.setAttribute('data-value', 'off');\n    }\n  };\n\n  return (\n    <span\n      className={`step ${trackId}-step row-${rowIndex}-step-${stepIndex}`}\n      data-value={stepValue ? 'on' : 'off'}\n      data-status={'idle'}\n      onClick={handleClick}\n    >\n      <svg className={'step-zone'} xmlns={'http://www.w3.org/2000/svg'} viewBox={'0 0 30 30'} />\n      <svg className={'step-icon off'} xmlns={'http://www.w3.org/2000/svg'} viewBox={'0 0 30 30'}>\n        <circle cx={'15'} cy={'15'} r={'5'} />\n      </svg>\n      <svg className={'step-icon on'} xmlns={'http://www.w3.org/2000/svg'} viewBox={'0 0 30 30'}>\n        <circle cx={'15'} cy={'15'} r={'15'} />\n      </svg>\n    </span>\n  );\n});\n\nexport default Step;\n","import React, { memo } from 'react';\n\nimport './styles.css';\n\nimport Step from '../step';\n\nconst Steps = memo(({ trackId, numberOfSteps = 16, initialValue }) => {\n  if (!trackId || !Array.isArray(initialValue)) {\n    return null;\n  }\n\n  return (\n    <div className={`step-sequencer`}>\n      {initialValue.map((rowData, rowIndex) => {\n        if (!Array.isArray(rowData)) {\n          return null;\n        }\n\n        return (\n          <div\n            key={rowIndex}\n            style={{ gridTemplateColumns: `repeat(${numberOfSteps},1fr)` }}\n            className={`steps ${trackId}-steps-${rowIndex}`}\n          >\n            {rowData.map((stepValue, stepIndex) => {\n              return (\n                <Step\n                  key={stepIndex}\n                  trackId={trackId}\n                  stepValue={stepValue}\n                  rowIndex={rowIndex}\n                  stepIndex={stepIndex}\n                />\n              );\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n});\n\nexport default Steps;\n","import React, { memo } from 'react';\n\nimport './styles.css';\n\nimport { Steps } from '../stepSequencer';\n\nconst TrackSteps = memo(({ trackId, numSteps = 16, initialValue }) => {\n  return (\n    <div id={`${trackId}-steps`} className={'track-steps'}>\n      <Steps trackId={trackId} numberOfSteps={numSteps} initialValue={initialValue} />\n    </div>\n  );\n});\n\nexport default TrackSteps;\n","import React, { memo } from 'react';\n\nimport './styles.css';\n\nconst TrackEffects = memo(({ children, trackId }) => {\n  return (\n    <div id={`${trackId}-effects`} className={'track-effects'}>\n      {children}\n    </div>\n  );\n});\n\nexport default TrackEffects;\n","import React, { memo } from 'react';\n\nimport './styles.css';\n\nconst EffectsGroup = memo(({ style = {}, children, span, title = '' }) => {\n  return (\n    <div style={{ gridColumn: span, ...style }} className={'effects-group'}>\n      <div className={'controls'}>{children}</div>\n      {title ? (\n        <div className={'label'}>\n          <div />\n          <span>{title}</span>\n          <div />\n        </div>\n      ) : null}\n    </div>\n  );\n});\n\nexport default EffectsGroup;\n","import React, { memo } from 'react';\n\nimport { SliderControl } from '../controller';\n\nconst CompressorControls = memo(({ trackId, compressor }) => {\n  if (!trackId || !compressor) return null;\n\n  return (\n    <>\n      <SliderControl\n        id={`${trackId}-compressor-ratio`}\n        label={'RAT'}\n        step={1}\n        min={1}\n        max={20}\n        initialValue={compressor.get().ratio ?? 1}\n        onChange={val => compressor.set({ ratio: val })}\n      />\n      <SliderControl\n        id={`${trackId}-compressor-attack`}\n        label={'ATK'}\n        step={0.001}\n        toFixed={3}\n        initialValue={compressor.get().attack ?? 0}\n        onChange={val => compressor.set({ attack: val })}\n      />\n      <SliderControl\n        id={`${trackId}-compressor-release`}\n        label={'REL'}\n        step={0.001}\n        toFixed={3}\n        initialValue={compressor.get().release ?? 0}\n        onChange={val => compressor.set({ release: val })}\n      />\n    </>\n  );\n});\n\nexport default CompressorControls;\n","import React, { memo } from 'react';\n\nimport { SliderControl } from '../controller';\n\nconst EnvelopeControls = memo(({ trackId, envelope }) => {\n  if (!trackId || !envelope) return null;\n\n  return (\n    <>\n      <SliderControl\n        id={`${trackId}-envelope-attack`}\n        label={'ATK'}\n        step={0.001}\n        max={2}\n        toFixed={3}\n        initialValue={envelope.get().attack ?? 0}\n        onChange={val => envelope.set({ attack: val })}\n      />\n      <SliderControl\n        id={`${trackId}-envelope-decay`}\n        label={'DEC'}\n        step={0.001}\n        max={2}\n        toFixed={3}\n        initialValue={envelope.get().decay ?? 0}\n        onChange={val => envelope.set({ decay: val })}\n      />\n      <SliderControl\n        id={`${trackId}-envelope-sustain`}\n        label={'SUS'}\n        step={0.001}\n        toFixed={3}\n        initialValue={envelope.get().sustain ?? 0}\n        onChange={val => envelope.set({ sustain: val })}\n      />\n      <SliderControl\n        id={`${trackId}-envelope-release`}\n        label={'REL'}\n        step={0.001}\n        max={2}\n        toFixed={3}\n        initialValue={envelope.get().release ?? 0}\n        onChange={val => envelope.set({ release: val })}\n      />\n    </>\n  );\n});\n\nexport default EnvelopeControls;\n","import React, { memo } from 'react';\n\nimport { fromPercent, toPercent } from '../utils';\nimport { EQ3_MIN, EQ3_MAX } from '../utils/constants';\n\nimport { SliderControl } from '../controller';\n\nconst Eq3Controls = memo(({ trackId, eq3 }) => {\n  if (!trackId || !eq3) return null;\n\n  return (\n    <>\n      <SliderControl\n        id={`${trackId}-eq3-low`}\n        label={'LOW'}\n        step={1}\n        max={100}\n        initialValue={toPercent([EQ3_MIN, EQ3_MAX], eq3.get().low) ?? 0}\n        onChange={val => eq3.set({ low: fromPercent([EQ3_MIN, EQ3_MAX], val) })}\n      />\n      <SliderControl\n        id={`${trackId}-eq3-mid`}\n        label={'MID'}\n        step={1}\n        max={100}\n        initialValue={toPercent([EQ3_MIN, EQ3_MAX], eq3.get().mid) ?? 0}\n        onChange={val => eq3.set({ mid: fromPercent([EQ3_MIN, EQ3_MAX], val) })}\n      />\n      <SliderControl\n        id={`${trackId}-eq3-high`}\n        label={'HIG'}\n        step={1}\n        max={100}\n        initialValue={toPercent([EQ3_MIN, EQ3_MAX], eq3.get().high) ?? 0}\n        onChange={val => eq3.set({ high: fromPercent([EQ3_MIN, EQ3_MAX], val) })}\n      />\n    </>\n  );\n});\n\nexport default Eq3Controls;\n","import React, { memo } from 'react';\n\nimport { SliderControl } from '../controller';\n\nconst FilterControls = memo(({ trackId, filter }) => {\n  if (!trackId || !filter) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-filter-frequency`}\n      label={'FRQ'}\n      step={100}\n      min={1000}\n      max={15000}\n      initialValue={filter.get().frequency ?? 1000}\n      onChange={val => filter.set({ frequency: val })}\n    />\n  );\n});\n\nexport default FilterControls;\n","import React, { memo } from 'react';\n\nimport { fromPercent, toPercent } from '../utils';\n\nimport { SliderControl } from '../controller';\n\nconst DistortionControls = memo(({ trackId, distortion }) => {\n  if (!trackId || !distortion) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-distortion-wet`}\n      label={'DIS'}\n      step={1}\n      max={100}\n      initialValue={toPercent([0, 1], distortion.get().wet) ?? 0}\n      onChange={val => distortion.set({ wet: fromPercent([0, 1], val) })}\n    />\n  );\n});\n\nexport default DistortionControls;\n","import React, { memo } from 'react';\n\nimport { fromPercent, toPercent } from '../utils';\n\nimport { SliderControl } from '../controller';\n\nconst ReverbControls = memo(({ trackId, reverb }) => {\n  if (!trackId || !reverb) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-reverb-wet`}\n      label={'WET'}\n      step={1}\n      max={100}\n      initialValue={toPercent([0, 1], reverb.get().wet) ?? 0}\n      onChange={val => reverb.set({ wet: fromPercent([0, 1], val) })}\n    />\n  );\n});\n\nexport default ReverbControls;\n","import React, { memo } from 'react';\n\nimport { fromPercent, toPercent } from '../utils';\n\nimport { SliderControl } from '../controller';\n\nconst DelayControls = memo(({ trackId, delay }) => {\n  if (!trackId || !delay) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-delay-wet`}\n      label={'DEL'}\n      step={1}\n      max={100}\n      initialValue={toPercent([0, 1], delay.get().wet) ?? 0}\n      onChange={val => delay.set({ wet: fromPercent([0, 1], val) })}\n    />\n  );\n});\n\nexport default DelayControls;\n","import React, { memo, forwardRef, useImperativeHandle, useRef, useEffect } from 'react';\nimport { string, number } from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport {\n  Channel,\n  Compressor,\n  Destination,\n  Distortion,\n  EQ3,\n  FeedbackDelay,\n  Filter,\n  Gain,\n  MembraneSynth,\n  MetalSynth,\n  NoiseSynth,\n  PitchShift,\n  Reverb,\n  Sequence,\n  Solo\n} from 'tone';\n\nimport './styles.css';\n\nimport { getCurrentStepValues, onSequenceStep, toPercent } from '../utils';\nimport newArray from 'utils/studioHelpers/newArray';\n\nimport TrackControls from 'features/trackControls';\nimport TrackSteps from 'features/trackSteps';\nimport { TrackEffects, EffectsGroup } from 'features/trackEffects';\nimport CompressorControls from 'features/compressorControls';\nimport EnvelopeControls from 'features/envelopeControls';\nimport Eq3Controls from 'features/eq3Controls';\nimport FilterControls from 'features/filterControls';\nimport DistortionControls from 'features/distortionControls';\nimport ReverbControls from 'features/reverbControls';\nimport DelayControls from 'features/delayControls';\n\n//const notes = ['A4', 'D3', 'E3', 'G4', 'F#4'];\n//const notes = ['A3', 'C4', 'D4', 'E4', 'G4', 'A4'];\n\nconst Track = memo(\n  forwardRef(\n    (\n      {\n        songId,\n        trackId,\n        trackNumber,\n        channel,\n        instrument,\n        notes,\n        synth,\n        stepCount,\n        steps,\n        effects,\n        controls,\n        ...rest\n      },\n      ref\n    ) => {\n      const dispatch = useDispatch();\n      const noteInterval = `${stepCount}n`;\n      const noteIndices = newArray(stepCount);\n\n      const getSynth = (synth, options = {}) => {\n        const synths = {\n          MembraneSynth: new MembraneSynth(options),\n          MetalSynth: new MetalSynth(options),\n          NoiseSynth: new NoiseSynth(options)\n        };\n        return synths[synth];\n      };\n\n      const getEffect = (effect, options = {}) => {\n        const effects = {\n          EQ3: new EQ3(options),\n          Gain: new Gain(options),\n          Reverb: new Reverb(options),\n          FeedbackDelay: new FeedbackDelay(options),\n          Distortion: new Distortion(options),\n          PitchShift: new PitchShift(options),\n          Compressor: new Compressor(options),\n          Filter: new Filter(options)\n        };\n        return effects[effect];\n      };\n\n      const sequenceRef = useRef();\n      const channelRef = useRef(new Channel(channel ?? {}));\n      const effectsChainRef = useRef(\n        Object.entries(effects ?? {}).map(([effect, options]) => getEffect(effect, options))\n      );\n      const synthRef = useRef(\n        getSynth(instrument, synth).chain(\n          channelRef.current,\n          ...effectsChainRef.current,\n          Destination\n        )\n      );\n\n      useEffect(() => {\n        sequenceRef.current = new Sequence(handleOnSequenceStep, noteIndices, noteInterval).start(\n          0\n        );\n        return () => {\n          if (sequenceRef?.current) sequenceRef.current.dispose();\n        };\n      }, []);\n\n      const onTriggerAttackRelease = (notesToPlay, duration, time, velocity) => {\n        if (!synthRef?.current) return;\n        if (synthRef.current.name !== 'NoiseSynth') {\n          synthRef.current.triggerAttackRelease(notesToPlay[0], duration, time, velocity);\n        } else {\n          synthRef.current.triggerAttackRelease(duration, time, velocity);\n        }\n      };\n\n      const handleOnSequenceStep = (time, column) => {\n        onSequenceStep(trackId, notes, stepCount, time, column, (notesToPlay, velocity) =>\n          onTriggerAttackRelease(notesToPlay, noteInterval, time, velocity)\n        );\n      };\n\n      useImperativeHandle(ref, () => ({\n        save() {\n          dispatch({\n            type: 'song/SAVE_TRACK',\n            payload: {\n              songId,\n              trackId,\n              data: {\n                channel: channelRef.current.get(),\n                steps: getCurrentStepValues(trackId),\n                synth: synthRef.current.get(),\n                effects: effectsChainRef.current\n              }\n            }\n          });\n        }\n      }));\n\n      return (\n        <div id={trackId} className={'track'}>\n          <TrackControls\n            trackId={trackId}\n            trackNumber={trackNumber}\n            channel={channelRef?.current}\n            onSample={() => onTriggerAttackRelease(notes, noteInterval)}\n          />\n          <TrackSteps trackId={trackId} numSteps={stepCount} initialValue={steps} />\n          <TrackEffects trackId={trackId}>\n            {Object.entries(controls ?? {}).map(([group, value], i) => {\n              return (\n                <EffectsGroup key={i} span={value.span} title={group}>\n                  {value.effects.map((name, i) => {\n                    const effect = effectsChainRef.current.find(effect => effect.name === name);\n                    if (!effect) return;\n                    if (name === 'EQ3') {\n                      return <Eq3Controls key={i} trackId={trackId} eq3={effect} />;\n                    } else if (name === 'Compressor') {\n                      return <CompressorControls key={i} trackId={trackId} compressor={effect} />;\n                    } else if (name === 'Filter') {\n                      return <FilterControls key={i} trackId={trackId} filter={effect} />;\n                    } else if (name === 'Distortion') {\n                      return <DistortionControls key={i} trackId={trackId} distortion={effect} />;\n                    } else if (name === 'Reverb') {\n                      return <ReverbControls key={i} trackId={trackId} reverb={effect} />;\n                    } else if (name === 'FeedbackDelay') {\n                      return <DelayControls key={i} trackId={trackId} delay={effect} />;\n                    }\n                  })}\n                </EffectsGroup>\n              );\n            })}\n            <EffectsGroup span={'9 / span 4'} title={'envelope'}>\n              <EnvelopeControls trackId={trackId} envelope={synthRef?.current?.envelope} />\n            </EffectsGroup>\n          </TrackEffects>\n        </div>\n      );\n    }\n  )\n);\n\nexport default Track;\n\nTrack.propTypes = {\n  songId: string.isRequired,\n  trackId: string.isRequired,\n  trackNumber: number.isRequired,\n  instrument: string.isRequired,\n  stepCount: number.isRequired\n};\n","/**\n * Returns an array of sequential numbers from 0 to given length\n *\n * @param {number} length Length of array to return\n * @returns {array}\n */\n\nconst newArray = length => {\n  const array = [];\n  for (let i = 0; i < length; i++) {\n    array.push(i);\n  }\n  return array;\n};\n\nexport default newArray;\n","import { Draw } from 'tone';\n\nimport isStepOn from './isStepOn';\nimport drawSteps from './drawSteps';\n\n/**\n * Function called on sequence step\n *\n * @param {string} trackId\n * @param {array} notes\n * @param {number} numSteps\n * @param {number} time\n * @param {number} step\n * @param {function} onStepOn\n */\n\nexport default (trackId, notes = [], numSteps, time, step, onStepOn) => {\n  if (!Array.isArray(notes)) {\n    notes = [];\n  }\n\n  const numRows = Math.max(1, notes.length);\n\n  let notesToPlay = [];\n\n  const velocity = step === 0 ? 1 : 0.75;\n  // const velocity = random(0.5, 1);\n\n  for (let row = 0; row < numRows; row++) {\n    if (isStepOn(trackId, row, step)) {\n      if (!Array.isArray(notes) || !notes.length) {\n        onStepOn(null, velocity);\n      } else {\n        const note = notes[row];\n        notesToPlay.push(note);\n      }\n    }\n  }\n\n  if (notesToPlay.length) {\n    onStepOn(notesToPlay, velocity);\n  }\n\n  Draw.schedule(() => {\n    drawSteps(trackId, numSteps, step);\n  }, time);\n};\n","import consoleLog from 'utils/errorHandlers/consoleLog';\n\n/**\n * Sets data-status attribute on step DOM element\n *\n * @param {string} trackId\n * @param {number} stepTotal\n * @param {number} step\n */\n\nexport default (trackId, stepTotal, step) => {\n  const steps = document.getElementsByClassName(`step ${trackId}-step`);\n\n  const errorLog = msg => {\n    consoleLog('drawSteps helper function,', msg, trackId, stepTotal, step);\n  };\n\n  if (!steps) {\n    errorLog('steps not found');\n    return;\n  }\n\n  for (let i = 0; i < steps.length; i++) {\n    const currentStep = (i - step) % stepTotal === 0;\n    if (currentStep) {\n      steps[i].setAttribute('data-status', 'current');\n    } else {\n      steps[i].setAttribute('data-status', 'idle');\n    }\n  }\n};\n","import React, { useEffect, useRef, createContext, useMemo } from 'react';\nimport { Transport, Destination, Recorder, getTransport, getContext, start } from 'tone';\n\nexport const MasterContext = createContext();\n\nimport consoleLog from 'utils/errorHandlers/consoleLog';\n\nconst MasterProvider = ({ children }) => {\n  const recorder = useRef(new Recorder({ mimeType: 'video/webm' }));\n\n  useEffect(() => {\n    Destination.connect(recorder.current);\n  }, []);\n\n  const getContextState = () => getContext().state;\n\n  const getTransportState = () => getTransport().state;\n\n  const getRecorderState = () => recorder?.current?.state;\n\n  const handlePlay = async () => {\n    if (getContextState() !== 'running') {\n      await start();\n    }\n\n    consoleLog('audio context is', getContextState());\n\n    const master = document.querySelector('#master');\n\n    if (getTransportState() === 'stopped' && master.getAttribute('data-recorder') !== 'on') {\n      // Start playback\n      Transport.start();\n      master.querySelector('button.play')?.classList.add('active');\n      master.setAttribute('data-playback', 'started');\n      consoleLog('transport is', getTransportState());\n\n      // Start recording if status is standby\n      if (master.getAttribute('data-recorder') === 'stand-by' && getRecorderState() === 'stopped') {\n        recorder.current.start();\n        master.setAttribute('data-recorder', 'on');\n      }\n    }\n  };\n\n  const handleStop = () => {\n    const master = document.querySelector('#master');\n\n    if (getTransportState() === 'started') {\n      // Stop playback\n      Transport.stop();\n      master.setAttribute('data-playback', 'stopped');\n      master.querySelector('button.play')?.classList.remove('active');\n      consoleLog('transport is', getTransportState());\n    }\n\n    if (master.getAttribute('data-recorder') === 'stand-by') {\n      master.setAttribute('data-recorder', 'off');\n      master.querySelector('button.record')?.classList.remove('alert');\n    }\n  };\n\n  const handleRecord = () => {\n    const master = document.querySelector('#master');\n\n    if (getTransportState() === 'stopped') {\n      if (master.getAttribute('data-recorder') === 'off') {\n        master.setAttribute('data-recorder', 'stand-by');\n        master.querySelector('button.record')?.classList.add('alert');\n      } else {\n        master.setAttribute('data-recorder', 'off');\n        master.querySelector('button.record')?.classList.remove('alert');\n        if (getRecorderState() === 'started') {\n          handleStopRecorder();\n        }\n      }\n    }\n  };\n\n  const handleStopRecorder = async () => {\n    const recording = await recorder.current.stop();\n    const url = URL.createObjectURL(recording);\n    const anchor = document.createElement('a');\n    anchor.download = 'recording.webm';\n    anchor.href = url;\n    anchor.click();\n  };\n\n  const values = useMemo(() => {\n    return { getTransportState, play: handlePlay, stop: handleStop, record: handleRecord };\n  }, []);\n\n  return <MasterContext.Provider value={values}>{children}</MasterContext.Provider>;\n};\n\nexport default MasterProvider;\n","import { useContext } from 'react';\n\nimport { MasterContext } from '../masterProvider';\n\nconst useMasterContext = component => {\n  const context = useContext(MasterContext);\n  if (!context) {\n    throw new Error(\n      `Master components must be rendered within the MasterProvider component. Error occurred in the ${component} component.`\n    );\n  }\n\n  return context;\n};\n\nexport default useMasterContext;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Destination, Transport } from 'tone';\n\nimport './styles.css';\n\nimport { BPM_MIN, BPM_MAX, VOL_MIN, VOL_MAX } from '../../utils/constants';\nimport { fromPercent, toPercent } from '../../utils';\n\nimport { Circle, Play, Square } from 'componentLib/icon';\nimport Button from 'componentLib/button';\nimport useMasterContext from '../useMasterContext';\nimport { ButtonControl, ControllerGroup, SliderControl } from '../../controller';\n\nconst Master = ({ songId, volume, bpm, onSave }) => {\n  const dispatch = useDispatch();\n  const { play, stop, record } = useMasterContext('<Master>');\n\n  return (\n    <section id={'master'} data-playback={'stopped'} data-recorder={'off'}>\n      <div className={'sub'}>\n        <Button\n          size={24}\n          variant={'text'}\n          shape={'rounded'}\n          onClick={() => {\n            if (Transport.state === 'started') return;\n            onSave();\n            dispatch({\n              type: 'song/SAVE_MASTER',\n              payload: {\n                songId,\n                data: { bpm: Transport.get().bpm, volume: Destination.get().volume }\n              }\n            });\n          }}\n        >\n          save settings\n        </Button>\n      </div>\n      <div className={'main'}>\n        <SliderControl\n          id={'master-volume'}\n          orient={'horizontal'}\n          label={'VOL'}\n          step={1}\n          max={100}\n          initialValue={toPercent([VOL_MIN, VOL_MAX], volume) ?? 0}\n          onChange={val => Destination.set({ volume: fromPercent([VOL_MIN, VOL_MAX], val) })}\n        />\n        <ControllerGroup>\n          <Button className={'playback record'} variant={'outlined'} onClick={record}>\n            <Circle width={'64%'} />\n          </Button>\n          <Button className={'playback play'} variant={'outlined'} value={'off'} onClick={play}>\n            <Play width={'72%'} />\n          </Button>\n          <Button className={'playback stop'} variant={'outlined'} value={'on'} onClick={stop}>\n            <Square width={'54%'} />\n          </Button>\n        </ControllerGroup>\n        <ButtonControl\n          id={'master-bpm'}\n          orient={'horizontal'}\n          label={'BPM'}\n          min={BPM_MIN}\n          max={BPM_MAX}\n          initialValue={bpm ?? 120}\n          onChange={val => Transport.set({ bpm: val })}\n        />\n      </div>\n    </section>\n  );\n};\n\nexport default Master;\n","import React, { Fragment, useRef, createRef, useState, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Transport, Destination } from 'tone';\n\nimport './index.css';\n\nimport useEventListener from 'utils/hooks/useEventListener';\nimport { CHANNEL, STEP_COUNT, STEPS, INSTRUMENTS } from 'src/redux/defaults';\n\nimport Main from 'global/main';\nimport Footer from 'global/footer';\nimport Track from 'features/track';\nimport { Master, useMasterContext } from 'features/master';\n\nconst SONGS_CONFIG = {\n  s001: { t001: 'i001', t002: 'i002', t003: 'i003', t004: 'i004', t005: 'i005' },\n  s002: { t001: 'i001', t002: 'i002', t003: 'i003', t004: 'i004', t005: 'i005' },\n  s003: { t001: 'i001', t002: 'i002', t003: 'i003', t004: 'i004', t005: 'i005' },\n  s004: { t001: 'i001', t002: 'i002', t003: 'i003', t004: 'i004', t005: 'i005' }\n};\n\nconst Studio = () => {\n  const { play, stop, record } = useMasterContext('<Studio>');\n  const store = useSelector(state => state);\n  const [selectedSongId, setSelectedSongId] = useState('s001');\n  // Prevent tree from re-rendering when store updated\n  const storedSong = useMemo(() => store.songs?.[selectedSongId], [selectedSongId]);\n  const SONG_CONFIG = SONGS_CONFIG[selectedSongId];\n  const TRACKS = Object.entries(SONG_CONFIG);\n  const TRACK_IDS = TRACKS.map(([trackId]) => trackId);\n\n  const tracksRef = useRef(TRACKS.map(() => createRef()));\n\n  useEventListener(e => {\n    const code = e.code;\n    switch (code) {\n      case 'Space':\n        e.preventDefault();\n        Transport.state === 'started' ? stop() : play();\n        break;\n      case 'KeyR':\n        record();\n        break;\n      case 'KeyM':\n        Destination.set({ mute: !Destination.mute });\n        break;\n      case 'Digit1':\n      case 'Digit2':\n      case 'Digit3':\n      case 'Digit4':\n      case 'Digit5':\n      case 'Digit6':\n      case 'Digit7':\n      case 'Digit8':\n        const num = parseInt(code.charAt(code.length - 1));\n        if (num <= TRACKS.length) {\n          const id = TRACK_IDS[num - 1];\n          document.querySelector(`#${id}`)?.scrollIntoView();\n          document.querySelector(`#${id}-sample`)?.focus();\n        }\n        break;\n      default:\n        break;\n    }\n  });\n\n  const handleSave = () => {\n    tracksRef.current.forEach(track => {\n      track.current.save();\n    });\n  };\n\n  return (\n    <Fragment>\n      <Main id={'studio'}>\n        <Master\n          songId={selectedSongId}\n          volume={storedSong?.master?.volume ?? 0}\n          bpm={storedSong?.master?.bpm ?? 120}\n          onSave={handleSave}\n        />\n        {TRACKS.map(([trackId, instrumentId], i) => {\n          const track = storedSong?.tracks?.[trackId];\n          const instrument = INSTRUMENTS[instrumentId];\n          if (!instrument) return null;\n\n          return (\n            <Track\n              key={trackId}\n              ref={tracksRef.current[i]}\n              songId={selectedSongId}\n              trackId={trackId}\n              trackNumber={i + 1}\n              notes={instrument.notes}\n              stepCount={track?.stepCount ?? STEP_COUNT}\n              steps={track?.steps ?? STEPS}\n              channel={track?.channel ?? CHANNEL}\n              instrument={instrument.instrument ?? 'MembraneSynth'}\n              synth={track?.synth ?? instrument.synth}\n              effects={track?.effects ?? instrument.effects}\n              controls={instrument.controls}\n            />\n          );\n        })}\n      </Main>\n      <Footer />\n    </Fragment>\n  );\n};\n\nexport default Studio;\n","import { useEffect, useRef } from 'react';\n\nconst useEventListener = (handler, element = document.body, eventName = 'keydown') => {\n  const savedHandler = useRef();\n\n  useEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n\n  useEffect(() => {\n    const isSupported = element && element.addEventListener;\n    if (!isSupported) return;\n\n    const eventListener = event => savedHandler.current(event);\n\n    element.addEventListener(eventName, eventListener);\n\n    return () => {\n      element.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element]);\n};\n\nexport default useEventListener;\n","import React from 'react';\nimport { withRouter } from 'react-router';\nimport { Switch, Route } from 'react-router-dom';\n\nimport Home from '../pages/home';\nimport Studio from '../pages/studio';\nimport { MasterProvider } from 'features/master';\n\nconst Routes = () => (\n  <div className={'me'}>\n    <Switch>\n      <Route exact path=\"/\" render={() => <Home />} />\n      <Route\n        exact\n        path=\"/studio\"\n        render={() => (\n          <MasterProvider>\n            <Studio />\n          </MasterProvider>\n        )}\n      />\n      <Route render={() => <Home />} />\n    </Switch>\n  </div>\n);\n\nexport default withRouter(Routes);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport './styles.css';\n\nimport { useGetAuth } from './utils/api';\n\nimport Routes from './routes';\n\nconst App = () => {\n  const auth = useGetAuth(\n    { instance: 'app-root' },\n    { enabled: window.location.hostname !== 'localhost', cacheTime: 0 }\n  );\n  return window.location.hostname === 'localhost' || auth.isSuccess ? <Routes /> : null;\n};\n\nexport default withRouter(App);\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider, ReactReduxContext } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { ConnectedRouter } from 'connected-react-router';\nimport createHistory from 'history/createBrowserHistory';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { ErrorBoundary } from '@eoghanmccarthy/ui';\n\nimport configureStore from './store/configureStore';\n\nimport App from './src';\n\nimport './styles.css';\n\nconst initialState = {};\n\nconst history = createHistory();\n\nconst { store, persistor } = configureStore(initialState, history);\n\nconst MOUNT_NODE = document.getElementById('root');\n\nconst queryClient = new QueryClient();\n\nrender(\n  <QueryClientProvider client={queryClient}>\n    <Provider store={store} context={ReactReduxContext}>\n      <PersistGate loading={null} persistor={persistor}>\n        <ConnectedRouter history={history} context={ReactReduxContext}>\n          <ErrorBoundary>\n            <App />\n          </ErrorBoundary>\n        </ConnectedRouter>\n      </PersistGate>\n    </Provider>\n  </QueryClientProvider>,\n  MOUNT_NODE\n);\n","import { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\n\nimport { songs } from './redux';\n\nconst createRootReducer = history =>\n  combineReducers({\n    router: connectRouter(history),\n    songs\n  });\n\nexport default createRootReducer;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktheseboys\"] = self[\"webpackChunktheseboys\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [216], function() { return __webpack_require__(7425); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}