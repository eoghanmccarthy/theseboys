{"version":3,"sources":["webpack://theseboys/webpack/runtime/chunk loaded","webpack://theseboys/./store/configureStore.js","webpack://theseboys/./src/utils/typeCheck.js","webpack://theseboys/./src/components/Logo/index.js","webpack://theseboys/./src/components/layout/Footer/index.js","webpack://theseboys/./src/components/layout/Main/index.js","webpack://theseboys/./assets/Twitter_Social_Icon_Circle_Color.svg","webpack://theseboys/./src/pages/home/index.js","webpack://theseboys/./src/utils/constants.js","webpack://theseboys/./src/utils/toneHelpers.js","webpack://theseboys/./src/hooks/useSound/index.js","webpack://theseboys/./src/hooks/useEventListener/index.js","webpack://theseboys/./src/utils/types/index.js","webpack://theseboys/./src/components/icon/chevron.js","webpack://theseboys/./src/components/icon/circle.js","webpack://theseboys/./src/components/icon/minus.js","webpack://theseboys/./src/components/icon/play.js","webpack://theseboys/./src/components/icon/plus.js","webpack://theseboys/./src/components/icon/square.js","webpack://theseboys/./src/components/button/index.js","webpack://theseboys/./src/components/controllers/controller/index.js","webpack://theseboys/./src/components/controllers/buttonControl/index.js","webpack://theseboys/./src/components/controllers/controllerGroup/index.js","webpack://theseboys/./src/components/slider/index.js","webpack://theseboys/./src/components/controllers/sliderControl/index.js","webpack://theseboys/./src/components/controls/BitCrusherControls/index.js","webpack://theseboys/./src/components/controls/CompressorControls/index.js","webpack://theseboys/./src/components/controls/DelayControls/index.js","webpack://theseboys/./src/components/controls/DistortionControls/index.js","webpack://theseboys/./src/components/controls/EnvelopeControls/index.js","webpack://theseboys/./src/components/controls/Eq3Controls/index.js","webpack://theseboys/./src/components/controls/FilterControls/index.js","webpack://theseboys/./src/components/controls/LimiterControls/index.js","webpack://theseboys/./src/components/controls/PhaserControls/index.js","webpack://theseboys/./src/components/controls/PitchShiftControls/index.js","webpack://theseboys/./src/components/controls/ReverbControls/index.js","webpack://theseboys/./src/components/controls/StereoWidenerControls/index.js","webpack://theseboys/./src/components/controls/ControlHandler/index.js","webpack://theseboys/./src/components/trackContainer/index.js","webpack://theseboys/./src/utils/studioHelpers/interpolate.js","webpack://theseboys/./src/utils/studioHelpers/toPercent.js","webpack://theseboys/./src/utils/studioHelpers/fromPercent.js","webpack://theseboys/./src/components/trackControls/index.js","webpack://theseboys/./src/utils/errorHandlers/consoleLog.js","webpack://theseboys/./src/utils/studioHelpers/random.js","webpack://theseboys/./src/components/stepSequencer/utils/index.js","webpack://theseboys/./src/components/stepSequencer/step/index.js","webpack://theseboys/./src/components/stepSequencer/index.js","webpack://theseboys/./src/components/trackEffects/trackEffects/index.js","webpack://theseboys/./src/components/trackEffects/effectsGroup/index.js","webpack://theseboys/./src/components/studioTrack/index.js","webpack://theseboys/./src/components/master/masterProvider/index.js","webpack://theseboys/./src/components/master/master/index.js","webpack://theseboys/./src/components/master/useMasterContext/index.js","webpack://theseboys/./src/sounds/kicks.js","webpack://theseboys/./src/sounds/hats.js","webpack://theseboys/./src/sounds/snares.js","webpack://theseboys/./src/sounds/poly.js","webpack://theseboys/./src/sounds/index.js","webpack://theseboys/./src/pages/studio/index.js","webpack://theseboys/./src/components/boxTrack/step/index.js","webpack://theseboys/./src/components/boxTrack/index.js","webpack://theseboys/./src/pages/box/index.js","webpack://theseboys/./src/components/polyTrack/index.js","webpack://theseboys/./src/pages/poly/index.js","webpack://theseboys/./src/components/oscillator/index.js","webpack://theseboys/./src/hooks/usePointer/index.js","webpack://theseboys/./src/pages/oscillator/index.js","webpack://theseboys/./src/index.js","webpack://theseboys/./src/reducers.js","webpack://theseboys/./index.js","webpack://theseboys/webpack/bootstrap","webpack://theseboys/webpack/runtime/compat get default export","webpack://theseboys/webpack/runtime/define property getters","webpack://theseboys/webpack/runtime/global","webpack://theseboys/webpack/runtime/harmony module decorator","webpack://theseboys/webpack/runtime/hasOwnProperty shorthand","webpack://theseboys/webpack/runtime/publicPath","webpack://theseboys/webpack/runtime/jsonp chunk loading","webpack://theseboys/webpack/startup"],"names":["deferred","persistConfig","key","storage","blacklist","version","stateReconciler","autoMergeLevel2","isUndefined","arg","isString","isArray","Array","isFunction","isNumber","calc","x","y","window","innerHeight","innerWidth","trans","s","animate","fill","onClick","useSpring","xys","config","mass","tension","friction","props","set","xmlns","viewBox","onMouseMove","clientX","clientY","onMouseLeave","style","transform","interpolate","d","location","useLocation","className","reloadDocument","to","pathname","children","id","cx","href","target","alt","width","height","src","TwitterLogo","scrolling","frameBorder","DECIBEL_MIN","FREQUENCY_MAX","VOL_MIN","WET_STEP","SCALE_A_MINOR","TRACK_DEFAULT","channel","pan","volume","mute","notes","stepCount","steps","instrument","synth","options","effects","controls","getSynth","name","synths","PolySynth","Synth","MembraneSynth","MetalSynth","NoiseSynth","getEffect","BitCrusher","Compressor","Distortion","EQ3","FeedbackDelay","Filter","Gain","Gate","Limiter","Phaser","PitchShift","Reverb","StereoWidener","Error","channelRef","useRef","Channel","effectsChainRef","map","effect","synthRef","chain","current","Destination","trigger","args","rest","triggerAttackRelease","useEffect","dispose","forEach","handler","element","document","body","eventName","savedHandler","addEventListener","eventListener","event","removeEventListener","channelTypes","PropTypes","isRequired","synthTypes","instrumentTypes","notesTypes","stepsTypes","ChevronIcon","memo","stroke","strokeWidth","points","CircleIcon","cy","r","MinusIcon","x1","y1","x2","y2","PlayIcon","PlusIcon","SquareIcon","Button","testId","isDisabled","role","type","size","shape","variant","data-testid","disabled","propTypes","oneOf","Controller","orient","theme","label","step","min","max","initialValue","toFixed","onChange","handleOnChange","val","querySelectorAll","e","setAttribute","querySelector","classList","contains","remove","add","next","parseFloat","value","orientation","Slider","forwardRef","ref","SliderControl","initial","controlRef","valueRef","isInvalid","toString","innerHTML","htmlFor","onKeyDown","trackId","node","get","bits","ratio","attack","release","threshold","wet","decay","sustain","low","mid","high","lowFrequency","highFrequency","frequency","time","rampTo","pitch","ControlHandler","Track","data-trackid","linearStep","from","useClamp","clamp","minX","maxX","minY","maxY","slope","a","res","toPercent","interpolatedValue","Math","round","fromPercent","trackNumber","play","alert","muted","toggle","random","rand","floor","length","tmp","isStepOn","row","errorLog","consoleLog","getAttribute","drawSteps","stepTotal","getElementsByClassName","i","stepValue","rowIndex","stepIndex","data-status","currentTarget","onStep","noteInterval","noteIndices","array","push","newArray","sequenceRef","Sequence","column","numSteps","onStepOn","numRows","notesToPlay","velocity","sequencer","isRandom","randomValue","note","undefined","Draw","onSequenceStep","start","data-random","data-random-value","rowData","gridTemplateColumns","span","title","gridColumn","StudioTrack","index","sound","useSound","useEventListener","parseInt","shiftKey","scrollIntoView","Object","entries","group","find","envelope","MasterContext","createContext","Transport","beatIndex","beat","getElementById","left","recorder","Recorder","mimeType","code","handlePlay","getContext","state","console","log","master","getTransport","then","handleStopRecorder","stop","recording","url","URL","createObjectURL","anchor","createElement","download","click","Provider","record","bpm","component","context","useContext","useMasterContext","data-playback","data-recorder","tracks","kick01","pitchDecay","octaves","oscillator","Map","preDelay","distortion","oversample","knee","Q","equaliser","compressor","limiter","kick02","eq3","HAT01","noise","playbackRate","detune","gain","rolloff","filter","HAT02","snare01","harmonicity","resonance","modulationIndex","delayTime","feedback","maxDelay","snare02","poly01","slice","maxPolyphony","voice0","voice1","stages","baseFrequency","smoothing","phaser","sounds","kicks","hats","snares","poly","songs","t001","t002","t003","t004","t005","t006","t007","tracksRef","createRef","UserMedia","Fragment","soundId","track","BoxTrack","handleTrigger","song","PolyTrack","pointer","useState","isDown","setIsDown","handleMouseDown","handleMouseUp","usePointer","distortionRef","filterRef","tremoloRef","Tremolo","oscillatorRef","Osc","phase","interpolateX","interpolateY","onPointerDown","onPointerUp","onPointerEnter","onPointerLeave","onPointerMove","getBoundingClientRect","abs","partialCount","StudioRoutes","exact","path","enhancers","applyMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","persistReducer","combineReducers","persistor","persistStore","configureStore","MOUNT_NODE","queryClient","QueryClient","render","QueryClientProvider","client","ReactReduxContext","loading","ErrorBoundary","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","n","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","this","Function","hmd","create","obj","prop","prototype","hasOwnProperty","p","installedChunks","179","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"mappings":"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","file":"main.fc3c84f7357057cc43db.bundle.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","import { createStore, applyMiddleware, compose } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport autoMergeLevel2 from 'redux-persist/lib/stateReconciler/autoMergeLevel2';\n\nimport createRootReducer from '../src/reducers';\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  blacklist: ['router'],\n  version: 0,\n  stateReconciler: autoMergeLevel2\n};\n\nexport default (initialState = {}) => {\n  const middlewares = [];\n\n  const enhancers = [applyMiddleware(...middlewares)];\n\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  const store = createStore(\n    persistReducer(persistConfig, createRootReducer()),\n    undefined,\n    composeEnhancers(...enhancers)\n  );\n\n  const persistor = persistStore(store);\n\n  return { store, persistor };\n};\n","/**\n * Test if the arg is undefined\n */\nexport const isUndefined = arg => {\n  return typeof arg === 'undefined';\n};\n\n/**\n * Test if the argument is null.\n */\nexport const isNull = arg => {\n  return arg === null;\n};\n\n/**\n * Test if the argument is a string.\n */\nexport const isString = arg => {\n  return typeof arg === 'string';\n};\n\n/**\n * Test if the argument is a boolean.\n */\nexport const isBoolean = arg => {\n  return typeof arg === 'boolean';\n};\n\n/**\n * Test if the argument is an Array\n */\nexport const isArray = arg => {\n  return Array.isArray(arg);\n};\n\n/**\n * Test if the given argument is an object;\n */\nexport const isObject = arg => {\n  return Object.prototype.toString.call(arg) === '[object Object]';\n};\n\n/**\n * Test if the arg is a function\n */\nexport const isFunction = arg => {\n  return typeof arg === 'function';\n};\n\n/**\n * Test if the argument is a number.\n */\nexport const isNumber = arg => {\n  return typeof arg === 'number';\n};\n","import React from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport { isFunction } from 'utils/typeCheck';\n\nconst calc = (x, y) => [-(y - window.innerHeight / 2) / 20, (x - window.innerWidth / 2) / 20, 1.1];\n\nconst trans = (x, y, s) => `perspective(600px) rotateX(${x}deg) rotateY(${y}deg) scale(${s})`;\n\nconst Logo = ({ animate = false, fill = 'var(--color-primary)', onClick }) => {\n  const [props, set] = useSpring(() => ({\n    xys: [0, 0, 1],\n    config: { mass: 5, tension: 350, friction: 40 }\n  }));\n\n  return (\n    <animated.svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 480 480\"\n      onMouseMove={({ clientX: x, clientY: y }) => set({ xys: calc(x, y) })}\n      onMouseLeave={() => set({ xys: [0, 0, 1] })}\n      {...(animate && {\n        style: { transform: props.xys.interpolate(trans) }\n      })}\n      onClick={() => {\n        if (isFunction(onClick)) {\n          onClick();\n        }\n      }}\n    >\n      <path\n        fill={fill}\n        d=\"M240 0c-132.5 0-240 107.5-240 240s107.5 240 240 240 240-107.5 240-240-107.5-240-240-240zm111.9 177.8c-17.4 11.3-35.5 21.8-43.1 43-4.6 12.6-9.5 24.9 2.6 36.3 2.8 2.7 5.7 6.4 6.4 10 .9 4.5 1.4 12-1 13.7-7.8 5.4-5.9 11.1-4.1 18.3 6.9 27.5 13.4 55.2 19.5 82.9.7 3.3-1.7 7.4-2.6 11.1-2.9-2.7-7.3-4.9-8.4-8.3-9.7-27.2-19.3-54.4-27.8-82-2.9-9.5-6.6-12.1-16.3-9.8l-36.6 5.8c-8.9 2.1-17.1 6.8-25.8 9.7-2.9 1-6.5-.1-9.8-.2.8-2.9.7-6.8 2.6-8.7 26.9-27.2 33.3-37.2 48.8-77.3-7.7-9-15.8-9.9-25.2-3.9-19.8 12.6-39.6 25.1-59.7 37.1-13.2 7.9-26.7 15.1-40.4 22.1-3 1.5-7.3.3-11 .3 1.2-3.7 1.3-8.6 3.8-10.9 27-24.6 58-42.6 92.1-55.5 2.4-.9 4.9-2 7.2-3.3 1.4-.8 2.6-2 5-4-12.2-5.7-21-14.8-34.9-14.7-5.1.1-10.5-5.4-15.4-8.8-1.1-.7-1.5-4.6-.7-5.2 1.7-1.5 4.9-3.1 6.6-2.5 10.3 3.7 20.5 7.9 30.6 12.2 4.6 2 9.4 4 13.2 7.1 7.6 6.2 12.8 2.5 18.9-2.6 14.9-12.5 23.9-25.4 17.9-47.2-4.8-17.6-3.6-36.9-5-55.4 1.1-.2 2.2-.4 3.3-.5 4.3 23.2 8.7 46.4 13 69.9 5.2-8.3 10.3-16.4 15.4-24.5.9-1.4 1.3-3.4 2.6-4.3 2.7-2 5.8-3.4 8.7-5.1.8 3.2 3.1 7 2.2 9.6-3.7 11.1-8.3 21.9-12.8 32.7-2.8 6.7-6 13.3-9 19.9l1.6 2.4c8.3-2.7 16.6-5.2 24.8-8.2 12.2-4.5 24.1-9.8 36.5-13.7 4-1.3 11.6-.9 13.2 1.5 3.9 6.2-2.7 8.3-6.9 11zM235 289.9c11.2-20.8 21.6-40.2 32.4-60.2 18.4 13.6 11.4 34.8 19.7 52.3-18 2.7-34.3 5.2-52.1 7.9zM292.2 238c-7.5-9.7-8.9-22.1-9-34.7 0-1.4 2.7-3.6 4.5-4.2 10.2-3.6 20.6-6.8 28.8-9.4-7.6 15.1-15.8 31.4-24.3 48.3z\"\n      />\n    </animated.svg>\n  );\n};\n\nexport default Logo;\n","import React from 'react';\nimport { useLocation, Link } from 'react-router-dom';\n\nimport './index.css';\n\nimport Logo from '../../Logo';\n\nconst Footer = () => {\n  const location = useLocation();\n\n  return (\n    <footer className={'me__footer'}>\n      <Link reloadDocument to={location.pathname === '/' ? '/studio' : '/'}>\n        <Logo fill={'var(--color-grey-800)'} />\n      </Link>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\nimport cx from 'classnames';\n\nimport './index.css';\n\nconst Main = ({ children, id, className}) => {\n  return (\n    <main id={id} className={cx('me__main', className)}>\n      {children}\n    </main>\n  );\n};\n\nexport default Main;\n","export default __webpack_public_path__ + \"assets/6afcb252d35b92fae5f607e460966551.svg\";","import React from 'react';\n\nimport './index.css';\n\nimport TwitterLogo from 'assets/Twitter_Social_Icon_Circle_Color.svg';\nimport { Footer, Main } from 'components/layout';\nimport Logo from 'components/Logo';\n\nconst Home = () => {\n  return (\n    <>\n      <Main className={'index'}>\n        <div>\n          <Logo animate fill={'var(--color-primary)'} />\n        </div>\n        <div className={'social-links'}>\n          <a href={'http://twitter.com/theseboys'} target={'_blank'}>\n            <img alt={'Twitter logo'} style={{ width: '24px', height: '24px' }} src={TwitterLogo} />\n          </a>\n          <iframe\n            scrolling=\"no\"\n            frameBorder=\"no\"\n            src=\"https://w.soundcloud.com/icon/?url=http%3A%2F%2Fsoundcloud.com%2Ftheseboys&color=orange_white&size=24\"\n            style={{ width: '24px', height: '24px' }}\n          />\n        </div>\n      </Main>\n      <Footer />\n    </>\n  );\n};\n\nexport default Home;\n","export const BPM_MIN = 60;\nexport const BPM_MAX = 240;\nexport const DECIBEL_MIN = -60;\nexport const DECIBEL_MAX = 20;\nexport const FREQUENCY_MIN = 20;\nexport const FREQUENCY_MAX = 20000;\nexport const EQ3_MIN = -60;\nexport const EQ3_MAX = 20;\nexport const VOL_MIN = -60;\nexport const VOL_MAX = 20;\nexport const WET_STEP = 0.01;\nexport const WET_DECIMALS = 2;\nexport const WET_MIN = 0;\nexport const WET_MAX = 1;\nexport const SCALE_A_MAJOR = ['A3', 'B3', 'D4', 'E4', 'F#4', 'A4', 'B4', 'D5'];\nexport const SCALE_A_MINOR = ['A3', 'C4', 'D4', 'E4', 'G4', 'A4', 'C5', 'D5'];\nexport const SCALE_C_MAJOR = ['C4', 'D4', 'F4', 'G4', 'A4', 'C5', 'D5', 'F5'];\nexport const SCALE_G_MAJOR = ['G3', 'A3', 'C4', 'D4', 'E4', 'G4', 'A4', 'C5'];\nexport const CHANNEL_DEFAULT = { pan: 0, volume: 0, mute: false };\nexport const NOTES_DEFAULT = ['C1'];\nexport const STEP_COUNT_DEFAULT = 16;\nexport const STEPS_DEFAULT = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\nexport const TRACK_DEFAULT = {\n  channel: CHANNEL_DEFAULT,\n  notes: NOTES_DEFAULT,\n  stepCount: STEP_COUNT_DEFAULT,\n  steps: STEPS_DEFAULT,\n  instrument: {\n    synth: 'SYNTH',\n    options: {}\n  },\n  effects: {},\n  controls: {}\n};\n","import {\n  BitCrusher,\n  Chorus,\n  Compressor,\n  Distortion,\n  EQ3,\n  FeedbackDelay,\n  Filter,\n  Gain,\n  Gate,\n  Limiter,\n  MembraneSynth,\n  MetalSynth,\n  NoiseSynth,\n  Phaser,\n  PitchShift,\n  PolySynth,\n  Reverb,\n  StereoWidener,\n  Synth\n} from 'tone';\nimport { isString } from 'utils/typeCheck';\n\nexport const getSynth = (name, options = {}) => {\n  if (!isString(name)) {\n    return;\n  }\n\n  const synths = {\n    PolySynth: new PolySynth(Synth, options),\n    MembraneSynth: new MembraneSynth(options),\n    MetalSynth: new MetalSynth(options),\n    NoiseSynth: new NoiseSynth(options),\n    Synth: new Synth(options)\n  };\n\n  return synths[name];\n};\n\nexport const getEffect = (name, options = {}) => {\n  if (!isString(name)) {\n    return;\n  }\n\n  const effects = {\n    BitCrusher: new BitCrusher(options),\n    //Chorus: new Chorus(options),\n    Compressor: new Compressor(options),\n    Distortion: new Distortion(options),\n    EQ3: new EQ3(options),\n    FeedbackDelay: new FeedbackDelay(options),\n    Filter: new Filter(options),\n    Gain: new Gain(options),\n    Gate: new Gate(options),\n    Limiter: new Limiter(options),\n    Phaser: new Phaser(options),\n    PitchShift: new PitchShift(options),\n    Reverb: new Reverb(options),\n    StereoWidener: new StereoWidener(options)\n  };\n\n  return effects[name];\n};\n","import { useEffect, useRef } from 'react';\nimport { Channel, Destination } from 'tone';\n\nimport { getSynth, getEffect } from 'utils/toneHelpers';\n\nconst useSound = (channel, instrument, effects = {}) => {\n  if (!channel || !instrument || !effects) {\n    throw new Error('error');\n  }\n\n  /* Channel */\n  const channelRef = useRef(new Channel(channel ?? {}));\n\n  /* Effects */\n  const effectsChainRef = useRef(\n    [...effects].map(([effect, options]) => getEffect(effect, options))\n  );\n\n  /* Synth */\n  const synthRef = useRef(\n    getSynth(instrument.synth, instrument.options).chain(\n      channelRef.current,\n      ...effectsChainRef.current,\n      Destination\n    )\n  );\n\n  const trigger = (notes, ...rest) => {\n    if (!synthRef.current) {\n      return;\n    }\n\n    let args;\n\n    switch (synthRef.current.name) {\n      case 'NoiseSynth':\n        args = [...rest];\n        break;\n      case 'PolySynth':\n        args = [notes, ...rest];\n        break;\n      default:\n        args = [notes[0], ...rest];\n        break;\n    }\n\n    synthRef.current.triggerAttackRelease(...args);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (Destination) {\n        Destination.dispose();\n      }\n\n      if (channelRef.current) {\n        channelRef.current.dispose();\n      }\n\n      if (synthRef.current) {\n        synthRef.current.dispose();\n      }\n\n      if (isArray(effectsChainRef.current)) {\n        effectsChainRef.current.forEach(effect => effect.dispose());\n      }\n    };\n  }, []);\n\n  return {\n    channel: channelRef.current,\n    synth: synthRef.current,\n    effects: effectsChainRef.current,\n    trigger\n  };\n};\n\nexport default useSound;\n","import { useEffect, useRef } from 'react';\n\nconst useEventListener = (handler, element = document.body, eventName = 'keydown') => {\n  const savedHandler = useRef();\n\n  useEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n\n  useEffect(() => {\n    const isSupported = element && element.addEventListener;\n    if (!isSupported) return;\n\n    const eventListener = event => savedHandler.current(event);\n\n    element.addEventListener(eventName, eventListener);\n\n    return () => {\n      element.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element]);\n};\n\nexport default useEventListener;\n","import PropTypes from 'prop-types';\n\nexport const channelTypes = PropTypes.shape({\n  pan: PropTypes.number.isRequired,\n  volume: PropTypes.number.isRequired,\n  mute: PropTypes.bool.isRequired\n}).isRequired;\n\nexport const synthTypes = PropTypes.oneOf([\n  'AMSynth',\n  'DuoSynth',\n  'FMSynth',\n  'MembraneSynth',\n  'MetalSynth',\n  'NoiseSynth',\n  'PluckSynth',\n  'PolySynth',\n  'Synth'\n]).isRequired;\n\nexport const instrumentTypes = PropTypes.shape({\n  synth: synthTypes,\n  options: PropTypes.object.isRequired\n}).isRequired;\n\nexport const notesTypes = PropTypes.arrayOf(PropTypes.string);\n\nexport const stepsTypes = PropTypes.arrayOf(PropTypes.array.isRequired).isRequired;\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nexport const ChevronIcon = memo(\n  ({ className, width = '100%', stroke = 'var(--color-bluegrey-600)', strokeWidth = '4' }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 30 30\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <polyline\n          points=\"0,10 15,20 30,10\"\n          fill={'transparent'}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    );\n  }\n);\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nexport const CircleIcon = memo(\n  ({\n    className,\n    width = '100%',\n    fill = 'var(--color-bluegrey-600)',\n    stroke = 'var(--color-bluegrey-600)',\n    strokeWidth = '0'\n  }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 300 300\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <circle cx=\"150\" cy=\"150\" r={'150'} fill={fill} stroke={stroke} strokeWidth={strokeWidth} />\n      </svg>\n    );\n  }\n);\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nexport const MinusIcon = memo(\n  ({ className, width = '100%', stroke = 'var(--color-bluegrey-600)', strokeWidth = '4' }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 30 30\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <line\n          x1=\"0\"\n          y1=\"15\"\n          x2=\"30\"\n          y2=\"15\"\n          fill={'transparent'}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    );\n  }\n);\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nexport const PlayIcon = memo(\n  ({\n    className,\n    width = '100%',\n    fill = 'var(--color-bluegrey-600)',\n    stroke = 'var(--color-bluegrey-600)',\n    strokeWidth = '0'\n  }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 300 300\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <polygon\n          points={'0, 0 300, 150 0, 300'}\n          fill={fill}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    );\n  }\n);\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nexport const PlusIcon = memo(\n  ({ className, width = '100%', stroke = 'var(--color-bluegrey-600)', strokeWidth = '4' }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 30 30\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <line\n          x1=\"15\"\n          y1=\"0\"\n          x2=\"15\"\n          y2=\"30\"\n          fill={'transparent'}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n        <line\n          x1=\"0\"\n          y1=\"15\"\n          x2=\"30\"\n          y2=\"15\"\n          fill={'transparent'}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    );\n  }\n);\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nexport const SquareIcon = memo(\n  ({\n    className,\n    width = '100%',\n    fill = 'var(--color-bluegrey-600)',\n    stroke = 'var(--color-bluegrey-600)',\n    strokeWidth = '0'\n  }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 300 300\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <rect width=\"300\" height=\"300\" fill={fill} stroke={stroke} strokeWidth={strokeWidth} />\n      </svg>\n    );\n  }\n);\n","import React, { memo } from 'react';\nimport { oneOf } from 'prop-types';\nimport cx from 'classnames';\n\nimport './styles.css';\n\nconst Button = memo(\n  ({\n    children,\n    id,\n    testId,\n    isDisabled = false,\n    className,\n    role = 'button',\n    type = 'button',\n    size = 48,\n    shape = 'circle',\n    variant,\n    ...rest\n  }) => {\n    return (\n      <button\n        id={id}\n        data-testid={testId}\n        disabled={isDisabled}\n        className={cx(\n          'tb-button',\n          {\n            [`size-${size}`]: size && variant !== 'text',\n            [shape]: shape && variant !== 'text',\n            [variant]: variant,\n            disabled: isDisabled\n          },\n          className\n        )}\n        role={role}\n        type={type}\n        {...rest}\n      >\n        {children}\n      </button>\n    );\n  }\n);\n\nexport default Button;\n\nButton.propTypes = {\n  size: oneOf([24, 28, 32, 36, 40, 44, 48]),\n  shape: oneOf(['circle', 'rounded'])\n};\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport './styles.css';\n\nconst Controller = memo(\n  ({ children, id, orient = 'vertical', type = 'slider', theme = 'default' }) => {\n    return (\n      <div\n        id={id}\n        className={cx('controller', {\n          [orient]: orient,\n          [`type-${type}`]: type,\n          [`theme-${theme}`]: theme\n        })}\n      >\n        {children}\n      </div>\n    );\n  }\n);\n\nexport default Controller;\n\nController.propTypes = {\n  id: PropTypes.string.isRequired,\n  orient: PropTypes.oneOf(['vertical', 'horizontal']),\n  type: PropTypes.oneOf(['slider', 'button']),\n  theme: PropTypes.oneOf(['default', 'light'])\n};\n","import React, { memo, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { MinusIcon, PlusIcon } from '../../icon';\nimport Button from '../../button';\nimport Controller from '../controller';\n\nconst ButtonControl = memo(\n  ({\n    id,\n    orient = 'vertical',\n    label,\n    step = 1,\n    min = 0,\n    max = 100,\n    initialValue,\n    toFixed = 0,\n    onChange\n  }) => {\n    useEffect(() => {\n      handleOnChange(initialValue);\n    }, []);\n\n    const handleOnChange = val => {\n      if (typeof val !== 'number' || val < min || val > max) return;\n\n      document.querySelectorAll(`#${id} .control`)?.forEach(e => e.setAttribute('value', `${val}`));\n      document.querySelector(`#${id} span.value`)?.setAttribute('value', val.toFixed(toFixed));\n\n      if (val > min && val < max) {\n        document\n          .querySelectorAll(`#${id} .control`)\n          ?.forEach(e => e.classList.contains('alert') && e.classList.remove('alert'));\n      } else if (val === min) {\n        document.querySelector(`#${id} .control.dec`)?.classList.add('alert');\n      } else if (val === max) {\n        document.querySelector(`#${id} .control.inc`)?.classList.add('alert');\n      }\n\n      onChange(val);\n    };\n\n    return (\n      <Controller id={id} orient={orient} type={'button'}>\n        <label className={'label'}>{label}</label>\n        <div className={'controls'}>\n          <Button\n            className={'control dec'}\n            size={28}\n            onClick={e => {\n              const next = parseFloat(e.target.value) - step;\n              if (next < min) return;\n              handleOnChange(next);\n            }}\n          >\n            <MinusIcon width={'72%'} />\n          </Button>\n          <Button\n            className={'control inc'}\n            size={28}\n            onClick={e => {\n              const next = parseFloat(e.target.value) + step;\n              if (next > max) return;\n              handleOnChange(next);\n            }}\n          >\n            <PlusIcon width={'72%'} />\n          </Button>\n        </div>\n        <span className={'value'} />\n      </Controller>\n    );\n  }\n);\n\nexport default ButtonControl;\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nimport './styles.css';\n\nconst ControllerGroup = memo(({ children, id, orientation = 'horizontal', ...rest }) => {\n  return (\n    <div id={id} className={cx('controller-group', { [orientation]: orientation })} {...rest}>\n      {children}\n    </div>\n  );\n});\n\nexport default ControllerGroup;\n","import React, { memo, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport './styles.css';\n\nconst Slider = memo(\n  forwardRef(\n    (\n      {\n        id,\n        testId,\n        className,\n        orient = 'horizontal',\n        isDisabled = false,\n        step = 0.1,\n        min = 0,\n        max = 1,\n        onChange,\n        ...rest\n      },\n      ref\n    ) => {\n      return (\n        <input\n          ref={ref}\n          id={id}\n          data-testid={testId}\n          className={cx(\n            'tb-slider',\n            { [`orient-${orient}`]: orient, disabled: isDisabled },\n            className\n          )}\n          disabled={isDisabled}\n          orient={orient}\n          type={'range'}\n          step={step}\n          max={max}\n          min={min}\n          onChange={onChange}\n          {...rest}\n        />\n      );\n    }\n  )\n);\n\nexport default Slider;\n\nSlider.propTypes = {\n  orient: PropTypes.string,\n  isDisabled: PropTypes.bool,\n  step: PropTypes.number,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  onChange: PropTypes.func.isRequired\n};\n","import React, { memo, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Slider from 'components/slider';\nimport Controller from '../controller';\n\nconst SliderControl = memo(\n  ({\n    id,\n    orient = 'vertical',\n    label,\n    step = 0.1,\n    min = 0,\n    max = 1,\n    initialValue: initial,\n    toFixed = 0,\n    onChange\n  }) => {\n    const controlRef = useRef(null);\n    const valueRef = useRef(null);\n\n    const isInvalid = val => typeof val !== 'number' || val < min || val > max;\n\n    useEffect(() => {\n      if (!isInvalid(initial)) {\n        controlRef.current.value = initial.toString();\n        valueRef.current.innerHTML = initial.toFixed(toFixed);\n      }\n    }, []);\n\n    return (\n      <Controller id={id} orient={orient}>\n        <label htmlFor={''} className={'label'}>\n          {label}\n        </label>\n        <div className={'controls'}>\n          <Slider\n            ref={controlRef}\n            className={'control'}\n            orient={orient}\n            step={step}\n            min={min}\n            max={max}\n            onChange={e => {\n              const val = parseFloat(e.target.value);\n\n              if (val && !isInvalid(val)) {\n                valueRef.current.innerHTML = val.toFixed(toFixed);\n                onChange(val, 0.1);\n              }\n            }}\n            onKeyDown={e => {\n              let val;\n\n              switch (e.key) {\n                case 'q':\n                  val = max;\n                  break;\n                case 'a':\n                  val = min;\n                  break;\n                case 's':\n                  val = initial;\n                  break;\n                default:\n                  break;\n              }\n\n              if (val && !isInvalid(val)) {\n                e.target.value = val;\n                valueRef.current.innerHTML = val.toFixed(toFixed);\n                onChange(val, 0.25);\n              }\n            }}\n          />\n        </div>\n        <span ref={valueRef} className={'value'} />\n      </Controller>\n    );\n  }\n);\n\nexport default SliderControl;\n\nSliderControl.propTypes = {\n  id: PropTypes.string.isRequired,\n  orient: PropTypes.oneOf(['horizontal', 'vertical']),\n  label: PropTypes.string.isRequired,\n  step: PropTypes.number,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  initialValue: PropTypes.number.isRequired,\n  toFixed: PropTypes.number,\n  onChange: PropTypes.func.isRequired\n};\n","import React, { memo } from 'react';\n\nimport { SliderControl } from '../../controllers';\n\nconst BitCrusherControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-bitcrusher--bits`}\n      label={'BIT'}\n      step={1}\n      min={1}\n      max={16}\n      initialValue={node.get().bits ?? 0}\n      onChange={val => node.set({ bits: val })}\n    />\n  );\n});\n\nexport default BitCrusherControls;\n","import React, { memo } from 'react';\n\nimport { DECIBEL_MIN, DECIBEL_MAX } from '../../../utils/constants';\nimport { SliderControl } from '../../controllers';\n\nconst CompressorControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null;\n\n  return (\n    <>\n      <SliderControl\n        id={`${trackId}-compressor--ratio`}\n        label={'RTO'}\n        step={1}\n        min={1}\n        max={20}\n        initialValue={node.get().ratio ?? 1}\n        onChange={val => node.set({ ratio: val })}\n      />\n      <SliderControl\n        id={`${trackId}-compressor--attack`}\n        label={'ATK'}\n        step={0.001}\n        toFixed={3}\n        initialValue={node.get().attack ?? 0}\n        onChange={val => node.set({ attack: val })}\n      />\n      <SliderControl\n        id={`${trackId}-compressor--release`}\n        label={'REL'}\n        step={0.001}\n        toFixed={3}\n        initialValue={node.get().release ?? 0}\n        onChange={val => node.set({ release: val })}\n      />\n      <SliderControl\n        id={`${trackId}-compressor--threshold`}\n        label={'TRH'}\n        step={1}\n        min={DECIBEL_MIN}\n        max={DECIBEL_MAX}\n        initialValue={node.get().threshold ?? 0}\n        onChange={val => node.set({ threshold: val })}\n      />\n    </>\n  );\n});\n\nexport default CompressorControls;\n","import React, { memo } from 'react';\n\nimport { WET_STEP, WET_DECIMALS, WET_MIN, WET_MAX } from '../../../utils/constants';\nimport { SliderControl } from '../../controllers';\n\nconst DelayControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-delay--wet`}\n      label={'DEL'}\n      step={WET_STEP}\n      min={WET_MIN}\n      max={WET_MAX}\n      toFixed={WET_DECIMALS}\n      initialValue={node.get().wet ?? 0}\n      onChange={val => node.set({ wet: val })}\n    />\n  );\n});\n\nexport default DelayControls;\n","import React, { memo } from 'react';\n\nimport { WET_STEP, WET_DECIMALS, WET_MIN, WET_MAX } from '../../../utils/constants';\nimport { SliderControl } from '../../controllers';\n\nconst DistortionControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-distortion--wet`}\n      label={'DIS'}\n      step={WET_STEP}\n      min={WET_MIN}\n      max={WET_MAX}\n      toFixed={WET_DECIMALS}\n      initialValue={node.get().wet ?? 0}\n      onChange={val => node.set({ wet: val })}\n    />\n  );\n});\n\nexport default DistortionControls;\n","import React, { memo } from 'react';\n\nimport { SliderControl } from '../../controllers';\n\nconst EnvelopeControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null;\n\n  return (\n    <>\n      <SliderControl\n        id={`${trackId}-envelope--attack`}\n        label={'ATK'}\n        step={0.001}\n        max={2}\n        toFixed={3}\n        initialValue={node.get().attack ?? 0}\n        onChange={val => node.set({ attack: val })}\n      />\n      <SliderControl\n        id={`${trackId}-envelope--decay`}\n        label={'DEC'}\n        step={0.001}\n        max={2}\n        toFixed={3}\n        initialValue={node.get().decay ?? 0}\n        onChange={val => node.set({ decay: val })}\n      />\n      <SliderControl\n        id={`${trackId}-envelope--sustain`}\n        label={'SUS'}\n        step={0.001}\n        toFixed={3}\n        initialValue={node.get().sustain ?? 0}\n        onChange={val => node.set({ sustain: val })}\n      />\n      <SliderControl\n        id={`${trackId}-envelope--release`}\n        label={'REL'}\n        step={0.001}\n        max={2}\n        toFixed={3}\n        initialValue={node.get().release ?? 0}\n        onChange={val => node.set({ release: val })}\n      />\n    </>\n  );\n});\n\nexport default EnvelopeControls;\n","import React, { memo } from 'react';\n\nimport { DECIBEL_MIN, DECIBEL_MAX, FREQUENCY_MIN, FREQUENCY_MAX } from '../../../utils/constants';\nimport { SliderControl } from '../../controllers';\n\nconst Eq3Controls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null;\n\n  return (\n    <>\n      <SliderControl\n        id={`${trackId}-eq3--low`}\n        label={'LOW'}\n        step={1}\n        min={DECIBEL_MIN}\n        max={DECIBEL_MAX}\n        initialValue={node.get().low ?? 0}\n        onChange={val => node.set({ low: val })}\n      />\n      <SliderControl\n        id={`${trackId}-eq3--mid`}\n        label={'MID'}\n        step={1}\n        min={DECIBEL_MIN}\n        max={DECIBEL_MAX}\n        initialValue={node.get().mid ?? 0}\n        onChange={val => node.set({ mid: val })}\n      />\n      <SliderControl\n        id={`${trackId}-eq3--high`}\n        label={'HIG'}\n        step={1}\n        min={DECIBEL_MIN}\n        max={DECIBEL_MAX}\n        initialValue={node.get().high ?? 0}\n        onChange={val => node.set({ high: val })}\n      />\n      <SliderControl\n        id={`${trackId}-eq3--low-frequency`}\n        label={'LPF'}\n        step={10}\n        min={FREQUENCY_MIN}\n        max={FREQUENCY_MAX}\n        initialValue={node.get().lowFrequency ?? 1000}\n        onChange={val => node.set({ lowFrequency: val })}\n      />\n      <SliderControl\n        id={`${trackId}-eq3--high-frequency`}\n        label={'HPF'}\n        step={10}\n        min={FREQUENCY_MIN}\n        max={FREQUENCY_MAX}\n        initialValue={node.get().highFrequency ?? 1000}\n        onChange={val => node.set({ highFrequency: val })}\n      />\n    </>\n  );\n});\n\nexport default Eq3Controls;\n","import React, { memo } from 'react';\n\nimport { FREQUENCY_MIN, FREQUENCY_MAX } from '../../../utils/constants';\nimport { SliderControl } from '../../controllers';\n\nconst FilterControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-filter--frequency`}\n      label={'FRQ'}\n      step={10}\n      min={FREQUENCY_MIN}\n      max={FREQUENCY_MAX}\n      initialValue={node.get().frequency ?? 1000}\n      onChange={(val, time = 0.0) => node.frequency.rampTo(val, time)}\n    />\n  );\n});\n\nexport default FilterControls;\n","import React, { memo } from 'react';\n\nimport { DECIBEL_MIN, DECIBEL_MAX } from '../../../utils/constants';\nimport { SliderControl } from '../../controllers';\n\nconst LimiterControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-limiter--threshold`}\n      label={'LIM'}\n      step={1}\n      min={DECIBEL_MIN}\n      max={DECIBEL_MAX}\n      initialValue={node.get().threshold ?? 0}\n      onChange={val => node.set({ threshold: val })}\n    />\n  );\n});\n\nexport default LimiterControls;\n","import React, { memo } from 'react';\n\nimport { WET_STEP, WET_DECIMALS, WET_MIN, WET_MAX } from '../../../utils/constants';\nimport { SliderControl } from '../../controllers';\n\nconst PhaserControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-phaser--wet`}\n      label={'PHS'}\n      step={WET_STEP}\n      min={WET_MIN}\n      max={WET_MAX}\n      toFixed={WET_DECIMALS}\n      initialValue={node.get().wet ?? 0}\n      onChange={val => node.set({ wet: val })}\n    />\n  );\n});\n\nexport default PhaserControls;\n","import React, { memo } from 'react';\n\nimport { SliderControl } from '../../controllers';\n\nconst PitchShiftControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-pitchshift--pitch`}\n      label={'PCH'}\n      step={12}\n      min={-48}\n      max={48}\n      initialValue={node.get().pitch ?? 0}\n      onChange={val => node.set({ pitch: val })}\n    />\n  );\n});\n\nexport default PitchShiftControls;\n","import React, { memo } from 'react';\n\nimport { WET_STEP, WET_DECIMALS, WET_MIN, WET_MAX } from '../../../utils/constants';\nimport { SliderControl } from '../../controllers';\n\nconst ReverbControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-reverb--wet`}\n      label={'REV'}\n      step={WET_STEP}\n      min={WET_MIN}\n      max={WET_MAX}\n      toFixed={WET_DECIMALS}\n      initialValue={node.get().wet ?? 0}\n      onChange={val => node.set({ wet: val })}\n    />\n  );\n});\n\nexport default ReverbControls;\n","import React, { memo } from 'react';\n\nimport { SliderControl } from '../../controllers';\n\nconst StereoWidenerControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null;\n\n  return (\n    <SliderControl\n      id={`${trackId}-stereowidener--width`}\n      label={'STW'}\n      toFixed={1}\n      initialValue={node.get().width ?? 0}\n      onChange={val => node.set({ width: val })}\n    />\n  );\n});\n\nexport default StereoWidenerControls;\n","import React, { memo, forwardRef } from 'react';\nimport { isString } from 'utils/typeCheck';\n\nimport BitCrusherControls from '../BitCrusherControls';\nimport CompressorControls from '../CompressorControls';\nimport DelayControls from '../DelayControls';\nimport DistortionControls from '../DistortionControls';\nimport EnvelopeControls from '../EnvelopeControls';\nimport Eq3Controls from '../Eq3Controls';\nimport FilterControls from '../FilterControls';\nimport LimiterControls from '../LimiterControls';\nimport PhaserControls from '../PhaserControls';\nimport PitchShiftControls from '../PitchShiftControls';\nimport ReverbControls from '../ReverbControls';\nimport StereoWidenerControls from '../StereoWidenerControls';\n\nexport const ControlHandler = memo(\n  forwardRef(({ trackId, name, node }, ref) => {\n    if (!isString(trackId) || !isString(name) || !node) {\n      return null;\n    }\n\n    //const Component = `${name}Controls`;\n\n    switch (name) {\n      case 'BitCrusher':\n        return <BitCrusherControls trackId={trackId} node={node} />;\n      case 'Compressor':\n        return <CompressorControls trackId={trackId} node={node} />;\n      case 'Distortion':\n        return <DistortionControls trackId={trackId} node={node} />;\n      case 'Envelope':\n        return <EnvelopeControls trackId={trackId} node={node} />;\n      case 'EQ3':\n        return <Eq3Controls trackId={trackId} node={node} />;\n      case 'FeedbackDelay':\n        return <DelayControls trackId={trackId} node={node} />;\n      case 'Filter':\n        return <FilterControls trackId={trackId} node={node} />;\n      case 'Limiter':\n        return <LimiterControls trackId={trackId} node={node} />;\n      case 'Phaser':\n        return <PhaserControls trackId={trackId} node={node} />;\n      case 'PitchShift':\n        return <PitchShiftControls trackId={trackId} node={node} />;\n      case 'Reverb':\n        return <ReverbControls trackId={trackId} node={node} />;\n      case 'StereoWidener':\n        return <StereoWidenerControls trackId={trackId} node={node} />;\n      default:\n        return null;\n    }\n  })\n);\n","import React, { memo, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './styles.css';\n\nconst Track = memo(\n  forwardRef(({ children, trackId }, ref) => {\n    return (\n      <div id={trackId} data-trackid={trackId} className={'track'}>\n        {children}\n      </div>\n    );\n  })\n);\n\nexport default Track;\n\nTrack.propTypes = {\n  trackId: PropTypes.string.isRequired\n};\n","function linearStep(from, to, x, useClamp) {\n  return useClamp ? clamp(from, to, x) : x;\n}\n\nfunction clamp(from, to, x) {\n  let val = x;\n  if (val < from) val = from;\n  if (val > to) val = to;\n\n  return val;\n}\n\nexport const interpolate = ({ from = [0, 100], to = [0, 100], clamp = true }) => {\n  function makeInterpolationFunc(x, { from: [minX, maxX] = from, to: [minY, maxY] = to } = {}) {\n    const slope = (maxY - minY) / (maxX - minX);\n\n    const a = -slope * minX + minY;\n\n    const res = slope * x + a;\n\n    return linearStep(minY, maxY, res, clamp);\n  }\n\n  return makeInterpolationFunc;\n};\n","import { interpolate } from './interpolate';\n\nexport const toPercent = (from = [0, 100], val) => {\n  const interpolatedValue = interpolate({ from });\n  return Math.round(interpolatedValue(val));\n};\n","import { interpolate } from './interpolate';\n\nexport const fromPercent = (to = [0, 100], val, toFixed = 0) => {\n  const interpolatedValue = interpolate({ to });\n  return interpolatedValue(val);\n};\n","import React, { memo } from 'react';\nimport cx from 'classnames';\n\nimport './styles.css';\n\nimport { fromPercent, toPercent } from 'utils/studioHelpers';\nimport { VOL_MIN, VOL_MAX } from '../../utils/constants';\n\nimport { ChevronIcon } from '../icon';\nimport Button from '../button';\nimport { ButtonControl, ControllerGroup, SliderControl } from '../controllers';\n\nconst TrackControls = memo(({ trackId, trackNumber, channel, play }) => {\n  if (!trackId || !channel) return null;\n\n  return (\n    <div id={`${trackId}-controls`} className={`track-controls`}>\n      <ControllerGroup>\n        {trackNumber ? (\n          <Button id={`${trackId}-sample`} size={32} onClick={play}>\n            {trackNumber}\n          </Button>\n        ) : null}\n        <Button\n          className={cx({ alert: channel.muted })}\n          size={32}\n          value={'off'}\n          onClick={e => {\n            const val = e.target.value;\n            channel.set({ mute: val === 'off' });\n            e.target.setAttribute('value', val === 'off' ? 'on' : 'off');\n            e.target.classList.toggle('alert');\n          }}\n        >\n          M\n        </Button>\n        <Button\n          size={32}\n          value={'off'}\n          onClick={e => {\n            const val = e.target.value;\n            document\n              .querySelector(`#${trackId}-sequencer`)\n              .setAttribute('data-random', val === 'off' ? 'on' : 'off');\n            e.target.setAttribute('value', val === 'off' ? 'on' : 'off');\n            e.target.classList.toggle('alert');\n          }}\n        >\n          R\n        </Button>\n        <SliderControl\n          id={`${trackId}-random-value`}\n          orient={'horizontal'}\n          label={'RAN'}\n          step={0.01}\n          min={0.6}\n          max={1}\n          toFixed={2}\n          initialValue={0.8}\n          onChange={val => {\n            document.querySelector(`#${trackId}-sequencer`).setAttribute('data-random-value', val);\n          }}\n        />\n      </ControllerGroup>\n      <ControllerGroup>\n        <ButtonControl\n          id={`${trackId}-volume`}\n          orient={'horizontal'}\n          label={'VOL'}\n          initialValue={toPercent([VOL_MIN, VOL_MAX], channel.get().volume) ?? 0}\n          onChange={val => channel.set({ volume: fromPercent([VOL_MIN, VOL_MAX], val) })}\n        />\n        <ButtonControl\n          id={`${trackId}-pan`}\n          orient={'horizontal'}\n          label={'PAN'}\n          step={0.1}\n          min={-1}\n          max={1}\n          toFixed={1}\n          initialValue={channel.get().pan ?? 0}\n          onChange={val => channel.set({ pan: val })}\n        />\n        <Button\n          size={36}\n          onClick={e => {\n            document.querySelector(`#${trackId}-effects`)?.classList.toggle('hidden');\n            e.target.classList.toggle('rotated');\n          }}\n        >\n          <ChevronIcon width={'60%'} />\n        </Button>\n      </ControllerGroup>\n    </div>\n  );\n});\n\nexport default TrackControls;\n","/**\n * Console logs for dev environment\n *\n * e.g. `consoleLog(\"Invalid arguments\", arguments);`\n *\n * @param args\n * @constructor\n */\nconst consoleLog = (...args) => {\n  if (process.env.NODE_ENV !== 'production') {\n    console.log(...args);\n  }\n};\n\nexport default consoleLog;\n","export const random = (min, max) => {\n  let rand = Math.random();\n\n  if (typeof min === 'undefined') {\n    return rand;\n  } else if (typeof max === 'undefined') {\n    if (min instanceof Array) {\n      return min[Math.floor(rand * min.length)];\n    } else {\n      return rand * min;\n    }\n  } else {\n    if (min > max) {\n      const tmp = min;\n      min = max;\n      max = tmp;\n    }\n\n    return rand * (max - min) + min;\n  }\n};\n","import { Draw } from 'tone';\nimport consoleLog from 'utils/errorHandlers/consoleLog';\nimport { isArray, isString, isNumber, isFunction, isUndefined } from 'utils/typeCheck';\n\nimport { random } from 'utils/studioHelpers/random';\n\n/**\n * @param {string} trackId\n * @param {array} notes\n * @param {number} numSteps\n * @param {number} time\n * @param {number} step\n * @param {function} onStepOn\n */\nexport const onSequenceStep = (trackId, notes = [], numSteps, time, step, onStepOn) => {\n  const errorLog = (...args) => {\n    consoleLog('onSequenceStep,', ...args);\n  };\n\n  if (\n    !isString(trackId) ||\n    !isArray(notes) ||\n    !isNumber(numSteps) ||\n    !isNumber(time) ||\n    !isNumber(step) ||\n    !isFunction(onStepOn)\n  ) {\n    errorLog('invalid args', trackId, notes, numSteps, time, step, onStepOn);\n    return;\n  }\n\n  const numRows = notes.length || 1;\n\n  let notesToPlay = [];\n\n  const velocity = step === 0 ? 1 : 0.75;\n  // const velocity = random(0.5, 1);\n\n  for (let row = 0; row < numRows; row++) {\n    const sequencer = document.querySelector(`#${trackId}-sequencer`);\n    if (isUndefined(sequencer)) {\n      return;\n    }\n\n    const isRandom = sequencer.getAttribute('data-random') === 'on';\n    const randomValue = sequencer.getAttribute('data-random-value');\n\n    const isOn = isRandom ? random(0, 1) > parseFloat(randomValue) : isStepOn(trackId, row, step);\n\n    if (isOn) {\n      if (!notes.length) {\n        onStepOn(undefined, velocity);\n      } else {\n        const note = notes[row];\n        notesToPlay.push(note);\n      }\n    }\n  }\n\n  if (notesToPlay.length) {\n    onStepOn(notesToPlay, velocity);\n  }\n\n  Draw.schedule(() => {\n    drawSteps(trackId, numSteps, step);\n  }, time);\n};\n\n/**\n * @param {string} trackId\n * @param {number} row\n * @param {number} step\n * @returns {boolean}\n */\nconst isStepOn = (trackId, row, step) => {\n  const errorLog = (...args) => {\n    consoleLog('isStepOn,', ...args);\n  };\n\n  if (!isString(trackId) || !isNumber(row) || !isNumber(step)) {\n    errorLog('invalid args', trackId, row, step);\n    return false;\n  }\n\n  const node = document.querySelector(`#${trackId}-sequencer .step.row-${row}-step-${step}`);\n\n  if (isUndefined(node)) {\n    errorLog('node undefined', node);\n    return false;\n  }\n\n  const value = node.getAttribute('value');\n\n  if (isUndefined(value)) {\n    errorLog('value undefined', value);\n    return false;\n  }\n\n  return value === 'on';\n};\n\n/**\n * @param {string} trackId\n * @param {number} stepTotal\n * @param {number} step\n */\nconst drawSteps = (trackId, stepTotal, step) => {\n  const errorLog = (...args) => {\n    consoleLog('drawSteps,', ...args);\n  };\n\n  if (!isString(trackId) || !isNumber(stepTotal) || !isNumber(step)) {\n    errorLog('invalid args', trackId, stepTotal, step);\n    return;\n  }\n\n  const steps = document.getElementsByClassName(`step ${trackId}-step`);\n\n  for (let i = 0; i < steps.length; i++) {\n    const current = (i - step) % stepTotal === 0;\n\n    if (current) {\n      steps[i].setAttribute('data-status', 'current');\n    } else {\n      steps[i].setAttribute('data-status', 'idle');\n    }\n  }\n};\n\n/**\n * Returns an array of sequential numbers from 0 to given length\n *\n * @param {number} length Length of array to return\n * @returns {array}\n */\n\nexport const newArray = length => {\n  const array = [];\n  for (let i = 0; i < length; i++) {\n    array.push(i);\n  }\n  return array;\n};\n","import React, { memo } from 'react';\nimport { isString, isNumber, isUndefined } from 'utils/typeCheck';\n\nconst Step = memo(({ trackId, stepValue, rowIndex, stepIndex }) => {\n  if (!isString(trackId) || !isNumber(rowIndex) || !isNumber(stepIndex)) {\n    return null;\n  }\n\n  const handleClick = e => {\n    const target = e.currentTarget;\n    const value = target.value;\n\n    if (!isUndefined(value)) {\n      target.setAttribute('value', value === 'off' ? 'on' : 'off');\n    }\n  };\n\n  return (\n    <button\n      className={`step ${trackId}-step row-${rowIndex}-step-${stepIndex}`}\n      value={stepValue ? 'on' : 'off'}\n      data-status={'idle'}\n      onClick={handleClick}\n    >\n      <svg className={'step-icon off'} xmlns={'http://www.w3.org/2000/svg'} viewBox={'0 0 30 30'}>\n        <circle cx={'15'} cy={'15'} r={'1'} />\n        {/*<rect x={'0'} y={'0'} width={30} height={30} />*/}\n      </svg>\n      <svg className={'step-icon on'} xmlns={'http://www.w3.org/2000/svg'} viewBox={'0 0 30 30'}>\n        <rect width={30} height={30} />\n        {/*<polyline points={'0,0 30,30'} stroke={'black'} strokeWidth={'0.1'} />*/}\n        {/*<polyline points={'30,0 0,30'} stroke={'black'} strokeWidth={'0.1'} />*/}\n        {/*<circle cx={15} cy={15} r={1} fill={'black'} opacity={0.2} />*/}\n      </svg>\n    </button>\n  );\n});\n\nexport default Step;\n","import React, { memo, useEffect, useRef } from 'react';\nimport { Sequence } from 'tone';\n\nimport { isArray, isString, isNumber } from 'utils/typeCheck';\n\nimport './styles.css';\n\nimport { onSequenceStep, newArray } from './utils';\n\nimport Step from './step';\n\nconst StepSequencer = memo(({ trackId, notes, stepCount = 16, steps, onStep }) => {\n  if (!isString(trackId) || !isNumber(stepCount) || !isArray(steps)) {\n    return null;\n  }\n\n  const noteInterval = `${stepCount}n`;\n  const noteIndices = newArray(stepCount);\n\n  const handleOnSequenceStep = (time, column) => {\n    onSequenceStep(trackId, notes, stepCount, time, column, (notesToPlay, velocity) =>\n      onStep(notesToPlay, noteInterval, time, velocity)\n    );\n  };\n\n  /* Sequencer */\n  const sequenceRef = useRef(\n    new Sequence(handleOnSequenceStep, noteIndices, noteInterval).start(0)\n  );\n\n  useEffect(() => {\n    return () => {\n      if (sequenceRef.current) {\n        sequenceRef.current.dispose();\n      }\n    };\n  }, []);\n\n  return (\n    <div\n      id={`${trackId}-sequencer`}\n      className={`sequencer`}\n      data-random={'off'}\n      data-random-value={'0.80'}\n    >\n      {steps.map((rowData, rowIndex) => {\n        if (!isArray(rowData)) {\n          return null;\n        }\n\n        return (\n          <div\n            key={rowIndex}\n            style={{ gridTemplateColumns: `repeat(${stepCount},1fr)` }}\n            className={`steps ${trackId}-steps-${rowIndex}`}\n          >\n            {rowData.map((stepValue, stepIndex) => {\n              return (\n                <Step\n                  key={stepIndex}\n                  trackId={trackId}\n                  stepValue={stepValue}\n                  rowIndex={rowIndex}\n                  stepIndex={stepIndex}\n                />\n              );\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n});\n\nexport default StepSequencer;\n","import React, { memo } from 'react';\n\nimport './styles.css';\n\nconst TrackEffects = memo(({ children, trackId }) => {\n  return (\n    <div id={`${trackId}-effects`} className={'track-effects'}>\n      {children}\n    </div>\n  );\n});\n\nexport default TrackEffects;\n","import React, { memo } from 'react';\n\nimport './styles.css';\n\nconst EffectsGroup = memo(({ style = {}, children, span, title = '' }) => {\n  return (\n    <div style={{ gridColumn: span, ...style }} className={'effects-group'}>\n      <div className={'controls'}>{children}</div>\n      {title ? (\n        <div className={'label'}>\n          <div />\n          <span>{title}</span>\n          <div />\n        </div>\n      ) : null}\n    </div>\n  );\n});\n\nexport default EffectsGroup;\n","import React, { memo, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { useEventListener, useSound } from 'hooks';\n\nimport { channelTypes, instrumentTypes, notesTypes, stepsTypes } from '../../utils/types';\n\nimport { ControlHandler } from '../controls';\nimport Track from '../trackContainer';\nimport TrackControls from '../trackControls';\nimport StepSequencer from '../stepSequencer';\nimport { TrackEffects, EffectsGroup } from '../trackEffects';\n\nconst StudioTrack = memo(\n  forwardRef(\n    ({ index, trackId, channel, instrument, notes, stepCount, steps, effects, controls }, ref) => {\n      const sound = useSound(channel, instrument, effects);\n\n      useEventListener(e => {\n        if (parseInt(e.key) === index + 1) {\n          if (e.shiftKey) {\n            // const steps = document.querySelectorAll(`.t00${e.key}-step`);\n            // if (!e.altKey) {\n            //   steps.forEach(step => step.setAttribute('value', 'on'));\n            // } else {\n            //   steps.forEach(step => step.setAttribute('value', 'off'));\n            // }\n          } else {\n            document.querySelector(`#${trackId}`)?.scrollIntoView();\n            //document.querySelector(`#${trackId}-sample`)?.focus();\n          }\n        }\n      });\n\n      return (\n        <Track trackId={trackId}>\n          <TrackControls trackId={trackId} trackNumber={index + 1} channel={sound.channel} />\n          <StepSequencer\n            trackId={trackId}\n            notes={notes}\n            stepCount={stepCount}\n            steps={steps}\n            onStep={sound.trigger}\n          />\n          <TrackEffects trackId={trackId}>\n            {Object.entries(controls ?? {}).map(([group, value], i) => {\n              return (\n                <EffectsGroup key={i} span={value.span} title={group}>\n                  {value.effects.map((name, i) => {\n                    const node = sound.effects.find(effect => effect.name === name);\n                    if (node) {\n                      return <ControlHandler key={i} trackId={trackId} name={name} node={node} />;\n                    } else {\n                      return null;\n                    }\n                  })}\n                </EffectsGroup>\n              );\n            })}\n            <EffectsGroup span={'17 / span 4'} title={'envelope'}>\n              <ControlHandler trackId={trackId} name={'Envelope'} node={sound.synth?.envelope} />\n            </EffectsGroup>\n          </TrackEffects>\n        </Track>\n      );\n    }\n  )\n);\n\nexport default StudioTrack;\n\nStudioTrack.propTypes = {\n  trackId: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  instrument: instrumentTypes,\n  stepCount: PropTypes.number.isRequired,\n  channel: channelTypes,\n  notes: notesTypes,\n  steps: stepsTypes,\n  effects: PropTypes.object.isRequired,\n  controls: PropTypes.object.isRequired\n};\n","import React, { useEffect, useRef, createContext } from 'react';\nimport { Transport, Destination, Recorder, getTransport, getContext, start } from 'tone';\n\nexport const MasterContext = createContext();\nimport { useEventListener } from 'hooks';\n\nconst MasterProvider = ({ children }) => {\n  useEffect(() => {\n    Transport.scheduleRepeat(time => {\n      const beatIndex = Transport.position.indexOf(':');\n      const beat = Transport.position.substring(beatIndex + 1, beatIndex + 2);\n      document.getElementById('beat').style.width = 100 / Transport.timeSignature + '%';\n      document.getElementById('beat').style.left = 25 * beat + '%';\n    }, Transport.timeSignature + 'n');\n  }, []);\n\n  const recorder = useRef(new Recorder({ mimeType: 'video/webm' }));\n\n  useEffect(() => {\n    if (recorder.current) {\n      Destination.connect(recorder.current);\n    }\n\n    return () => {\n      if (recorder.current) {\n        recorder.current.dispose();\n      }\n\n      if (Transport) {\n        Transport.dispose();\n      }\n\n      if (Destination) {\n        Destination.dispose();\n      }\n    };\n  }, []);\n\n  useEventListener(e => {\n    const code = e.code;\n    switch (code) {\n      case 'KeyM':\n        Destination.set({ mute: !Destination.mute });\n        break;\n      default:\n        break;\n    }\n  });\n\n  const handlePlay = async e => {\n    const target = e.currentTarget;\n\n    if (getContext().state !== 'running') {\n      await start();\n    }\n\n    console.log('audio context is', getContext().state);\n    const master = document.querySelector('#master');\n    if (!master) return;\n\n    if (getTransport().state === 'stopped') {\n      // Start playback\n      Transport.start();\n      target.setAttribute('value', 'on');\n      master.setAttribute('data-playback', 'started');\n      console.log('transport is', getTransport().state);\n      console.log(master.getAttribute('data-recorder'), recorder.current.state);\n      switch (master.getAttribute('data-recorder')) {\n        case 'stand-by':\n          recorder.current.start().then(() => {\n            master.setAttribute('data-recorder', 'on');\n            console.log('recorder is', recorder.current.state);\n          });\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n  const handleStop = () => {\n    const master = document.querySelector('#master');\n    if (!master) return;\n\n    const play = document.querySelector('#master button.play');\n    if (!play) return;\n\n    if (getTransport().state === 'started') {\n      Transport.stop();\n      master.setAttribute('data-playback', 'stopped');\n      play.setAttribute('value', 'off');\n      console.log('transport is', getTransport().state);\n    } else if (getTransport().state === 'stopped') {\n      switch (master.getAttribute('data-recorder')) {\n        case 'stand-by':\n          master.setAttribute('data-recorder', 'off');\n          break;\n        case 'on':\n          master.setAttribute('data-recorder', 'off');\n          handleStopRecorder();\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n  const handleRecord = e => {\n    const master = document.querySelector('#master');\n    if (!master) return;\n\n    if (getTransport().state === 'stopped') {\n      switch (master.getAttribute('data-recorder')) {\n        case 'off':\n          master.setAttribute('data-recorder', 'stand-by');\n          break;\n        case 'stand-by':\n          master.setAttribute('data-recorder', 'off');\n          break;\n        case 'on':\n          master.setAttribute('data-recorder', 'off');\n          handleStopRecorder();\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n  const handleStopRecorder = async () => {\n    const recording = await recorder.current.stop();\n    console.log('recorder is', recorder.current.state);\n    const url = URL.createObjectURL(recording);\n    const anchor = document.createElement('a');\n    anchor.download = 'recording.webm';\n    anchor.href = url;\n    anchor.click();\n  };\n\n  return (\n    <MasterContext.Provider value={{ play: handlePlay, stop: handleStop, record: handleRecord }}>\n      {children}\n    </MasterContext.Provider>\n  );\n};\n\nexport default MasterProvider;\n","import React from 'react';\nimport { Destination, Transport } from 'tone';\n\nimport './index.css';\n\nimport { BPM_MIN, BPM_MAX, VOL_MIN, VOL_MAX } from '../../../utils/constants';\nimport { fromPercent, toPercent } from 'utils/studioHelpers';\n\nimport Button from 'components/button';\nimport { CircleIcon, PlayIcon, SquareIcon } from 'components/icon';\nimport useMasterContext from '../useMasterContext';\nimport { ButtonControl, ControllerGroup, SliderControl } from '../../controllers';\n\nconst Master = ({ volume, bpm }) => {\n  const { play, stop, record } = useMasterContext('<Master>');\n\n  return (\n    <section id={'master'} data-playback={'stopped'} data-recorder={'off'}>\n      <div className={'master__status'}>\n        <div id={'beat'} />\n      </div>\n      <div className={'master__controls'}>\n        <SliderControl\n          id={'master-volume'}\n          orient={'horizontal'}\n          label={'VOL'}\n          step={1}\n          max={100}\n          initialValue={toPercent([VOL_MIN, VOL_MAX], volume) ?? 0}\n          onChange={val => Destination.set({ volume: fromPercent([VOL_MIN, VOL_MAX], val) })}\n        />\n        <ControllerGroup id={'playback-controls'}>\n          <Button className={'playback record'} title={'record'} value={'off'} onClick={record}>\n            <CircleIcon />\n          </Button>\n          <Button className={'playback play'} title={'play'} value={'off'} onClick={play}>\n            <PlayIcon />\n          </Button>\n          <Button className={'playback stop'} title={'stop'} value={'on'} onClick={stop}>\n            <SquareIcon />\n          </Button>\n        </ControllerGroup>\n        <ButtonControl\n          id={'master-bpm'}\n          orient={'horizontal'}\n          label={'BPM'}\n          min={BPM_MIN}\n          max={BPM_MAX}\n          initialValue={bpm ?? 120}\n          onChange={val => Transport.set({ bpm: val })}\n        />\n      </div>\n    </section>\n  );\n};\n\nexport default Master;\n","import { useContext } from 'react';\n\nimport { MasterContext } from '../masterProvider';\n\nconst useMasterContext = component => {\n  const context = useContext(MasterContext);\n  if (!context) {\n    throw new Error(\n      `Master components must be rendered within the MasterProvider component. Error occurred in the ${component} component.`\n    );\n  }\n\n  return context;\n};\n\nexport default useMasterContext;\n","//https://howtomakeelectronicmusic.com/eq-frequency-chart-for-electronic-music/#prettyPhoto/0/\n//https://blog.landr.com/eq-kick-and-bass/\n//https://github.com/Tonejs/Tone.js/issues/416\n\nexport const tracks = {\n  kick01: {\n    id: 'kick01',\n    type: 'kick',\n    name: 'SUB KICK',\n    notes: ['G1'],\n    instrument: {\n      synth: 'MembraneSynth',\n      options: {\n        pitchDecay: 0.01,\n        octaves: 6,\n        oscillator: {\n          type: 'square4'\n        },\n        envelope: {\n          attack: 0.001,\n          decay: 0.45,\n          sustain: 0.1,\n          release: 0.3\n        }\n      }\n    },\n    effects: new Map([\n      ['Reverb', { decay: 0.2, preDelay: 0.2, wet: 0.05 }],\n      ['Distortion', { distortion: 0.6, oversample: '4x', wet: 0.22 }],\n      [\n        'Compressor',\n        {\n          threshold: -26,\n          knee: 20,\n          ratio: 4.2,\n          attack: 0.024,\n          release: 0.132\n        }\n      ],\n      ['Limiter', { threshold: -48 }],\n      [\n        'EQ3',\n        {\n          Q: 1,\n          low: -3,\n          mid: -48,\n          high: -60,\n          lowFrequency: 100,\n          highFrequency: 120\n        }\n      ]\n    ]),\n    controls: {\n      equaliser: { span: '1 / span 5', effects: ['EQ3'] },\n      compressor: { span: '6 / span 4', effects: ['Compressor'] },\n      limiter: { span: '10 / span 1', effects: ['Limiter'] },\n      effects: {\n        span: '11 / span 2',\n        effects: []\n        //effects: ['Distortion', 'Reverb']\n      }\n    }\n  },\n  kick02: {\n    id: 'kick02',\n    type: 'kick',\n    name: 'MID KICK',\n    notes: ['C1'],\n    instrument: {\n      synth: 'MembraneSynth',\n      options: {\n        pitchDecay: 0.01,\n        octaves: 6,\n        oscillator: {\n          type: 'square4'\n        },\n        envelope: {\n          attack: 0.001,\n          decay: 0.45,\n          sustain: 0.1,\n          release: 0.3\n        }\n      }\n    },\n    effects: new Map([\n      [\n        'Compressor',\n        {\n          threshold: -21,\n          knee: 20,\n          ratio: 4.2,\n          attack: 0.024,\n          release: 0.132\n        }\n      ],\n      ['Limiter', { threshold: -12 }],\n      [\n        'EQ3',\n        {\n          Q: 1,\n          low: -3,\n          mid: -24,\n          high: -60,\n          lowFrequency: 160,\n          highFrequency: 420\n        }\n      ]\n    ]),\n    controls: {\n      eq3: { span: '1 / span 5', effects: ['EQ3'] },\n      compressor: { span: '6 / span 4', effects: ['Compressor'] },\n      limiter: { span: '10 / span 1', effects: ['Limiter'] }\n    }\n  }\n};\n","//https://howtomakeelectronicmusic.com/eq-frequency-chart-for-electronic-music/#prettyPhoto/0/\n//https://blog.landr.com/eq-kick-and-bass/\n//https://github.com/Tonejs/Tone.js/issues/416\n\nexport const tracks = {\n  HAT01: {\n    id: 'HAT01',\n    type: 'hat',\n    name: '',\n    notes: [],\n    steps: [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]],\n    instrument: {\n      synth: 'NoiseSynth',\n      options: {\n        volume: -8,\n        noise: {\n          type: 'white',\n          playbackRate: 5\n        },\n        envelope: {\n          attack: 0.001,\n          decay: 0.222,\n          sustain: 0.26,\n          release: 0.188\n        }\n      }\n    },\n    effects: new Map([\n      ['Filter', { Q: 1, detune: 0, frequency: 11600, gain: 0, rolloff: -48, type: 'bandpass' }],\n      [\n        'EQ3',\n        {\n          low: -60,\n          mid: 0,\n          high: -6,\n          lowFrequency: 6000,\n          highFrequency: 12000\n        }\n      ]\n    ]),\n    controls: {\n      equaliser: { span: '1 / span 5', effects: ['EQ3'] },\n      filter: { span: '6 / span 1', effects: ['Filter'] }\n    }\n  },\n  HAT02: {\n    id: 'HAT02',\n    type: 'hat',\n    name: '',\n    notes: [],\n    instrument: {\n      synth: 'NoiseSynth',\n      options: {\n        volume: -8,\n        noise: {\n          type: 'white',\n          playbackRate: 5\n        },\n        envelope: {\n          attack: 0.001,\n          decay: 0.3,\n          sustain: 0.002,\n          release: 0.32\n        }\n      }\n    },\n    effects: new Map([\n      ['Filter', { Q: 1, detune: 0, frequency: 3700, gain: 0, rolloff: -48, type: 'bandpass' }],\n      ['Reverb', { decay: 4, preDelay: 0.2, wet: 0.28 }],\n      [\n        'EQ3',\n        {\n          low: -60,\n          mid: 0,\n          high: -6,\n          lowFrequency: 9000,\n          highFrequency: 16000\n        }\n      ]\n    ]),\n    controls: {\n      equaliser: { span: '1 / span 5', effects: ['EQ3'] },\n      filter: { span: '6 / span 1', effects: ['Filter'] }\n    }\n  }\n};\n","//https://howtomakeelectronicmusic.com/eq-frequency-chart-for-electronic-music/#prettyPhoto/0/\n//https://blog.landr.com/eq-kick-and-bass/\n//https://github.com/Tonejs/Tone.js/issues/416\n\nexport const tracks = {\n  snare01: {\n    id: 'snare01',\n    type: 'snare',\n    name: '',\n    notes: ['C1'],\n    instrument: {\n      synth: 'MetalSynth',\n      options: {\n        harmonicity: 12,\n        resonance: 1000,\n        modulationIndex: 20,\n        volume: -15,\n        envelope: {\n          attack: 1.2,\n          decay: 1,\n          sustain: 0.0,\n          release: 0.067\n        }\n      }\n    },\n    effects: new Map([\n      ['Reverb', { decay: 4, preDelay: 0.2, wet: 0.22 }],\n      [\n        'FeedbackDelay',\n        {\n          delayTime: 0.25,\n          feedback: 1 / 3,\n          wet: 0.15,\n          maxDelay: 1\n        }\n      ],\n      ['Distortion', { distortion: 1, oversample: '4x', wet: 0.12 }],\n      ['Gain', { gain: 2 }],\n      [\n        'EQ3',\n        {\n          low: -48,\n          mid: -6,\n          high: -6,\n          lowFrequency: 800,\n          highFrequency: 1600\n        }\n      ]\n    ]),\n    controls: {\n      equaliser: { span: '1 / span 5', effects: ['EQ3'] },\n      effects: {\n        span: '6 / span 3',\n        effects: ['Distortion', 'Reverb', 'FeedbackDelay']\n      }\n    }\n  },\n  snare02: {\n    id: 'snare02',\n    type: 'snare',\n    name: '',\n    notes: ['C1'],\n    instrument: {\n      synth: 'MetalSynth',\n      options: {\n        harmonicity: 12,\n        resonance: 1000,\n        modulationIndex: 20,\n        volume: -15,\n        envelope: {\n          attack: 1.2,\n          decay: 1,\n          sustain: 0.0,\n          release: 0.067\n        }\n      }\n    },\n    effects: new Map([\n      ['Reverb', { decay: 4, preDelay: 0.2, wet: 0.8 }],\n      [\n        'FeedbackDelay',\n        {\n          delayTime: 0.25,\n          feedback: 1 / 3,\n          wet: 0.5,\n          maxDelay: 1\n        }\n      ],\n      ['BitCrusher', { wet: 0.6, bits: 10 }],\n      ['Distortion', { distortion: 1, oversample: '4x', wet: 0.68 }],\n      ['Gain', { gain: 2 }],\n      ['PitchShift', { wet: 0.8, pitch: 0 }],\n      ['StereoWidener', { wet: 0.8, width: 1 }],\n      [\n        'EQ3',\n        {\n          low: -48,\n          mid: 0,\n          high: -12,\n          lowFrequency: 1200,\n          highFrequency: 2400\n        }\n      ]\n    ]),\n    controls: {\n      equaliser: { span: '1 / span 5', effects: ['EQ3'] },\n      effects: {\n        span: '6 / span 6',\n        effects: [\n          'Distortion',\n          'Reverb',\n          'FeedbackDelay',\n          'PitchShift',\n          'StereoWidener',\n          'BitCrusher'\n        ]\n      }\n    }\n  }\n};\n","import { SCALE_A_MINOR } from '../utils/constants';\n\nconst samples = [\n  {\n    notes: SCALE_A_MINOR.slice(0, 6),\n    steps: [\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1],\n      [1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0],\n      [0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0],\n      [0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0],\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0]\n    ]\n  },\n  {\n    notes: SCALE_A_MINOR.slice(0, 6),\n    steps: [\n      [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1],\n      [0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0]\n    ]\n  },\n  {\n    notes: SCALE_A_MINOR.slice(0, 6),\n    steps: [\n      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0]\n    ]\n  }\n];\n\nexport const tracks = {\n  poly01: {\n    id: 'poly01',\n    type: 'poly',\n    channel: {\n      pan: 0.4,\n      volume: 4,\n      mute: false\n    },\n    stepCount: 16,\n    ...samples[2],\n    instrument: {\n      synth: 'PolySynth',\n      options: {\n        maxPolyphony: 6, // number of notes\n        volume: -10,\n        envelope: {\n          attack: 0.01,\n          decay: 0.2,\n          sustain: 0.3,\n          release: 1.6\n        },\n        voice0: {\n          oscillator: {\n            type: 'triangle4'\n          },\n          volume: -30,\n          envelope: {\n            attack: 0.005,\n            release: 0.05,\n            sustain: 1\n          }\n        },\n        voice1: {\n          volume: -10,\n          envelope: {\n            attack: 0.005,\n            release: 0.05,\n            sustain: 1\n          }\n        }\n      }\n    },\n    effects: new Map([\n      ['Reverb', { decay: 4, preDelay: 0.2, wet: 0.08 }],\n      ['EQ3', { low: 0, mid: -10, high: 4, lowFrequency: 1320, highFrequency: 5380 }],\n      ['Distortion', { distortion: 0.6, oversample: '4x', wet: 0.72 }],\n      ['Phaser', { frequency: 15, octaves: 5, stages: 10, Q: 10, baseFrequency: 100, wet: 0.0 }],\n      ['Gate', { threshold: -40, smoothing: 0.2 }],\n      ['Limiter', { threshold: 0 }]\n    ]),\n    controls: {\n      eq3: { span: '1 / span 5', effects: ['EQ3'] },\n      effects: { span: '6 / span 2', effects: ['Distortion', 'Reverb'] },\n      phaser: { span: '8 / span 3', effects: ['Phaser'] }\n    }\n  }\n};\n","import { tracks as kicks } from './kicks';\nimport { tracks as hats } from './hats';\nimport { tracks as snares } from './snares';\nimport { tracks as poly } from './poly';\n\nexport const sounds = { ...kicks, ...hats, ...snares, ...poly };\n","import React, { Fragment, useRef, createRef, useState, useMemo, useEffect } from 'react';\nimport { Transport, Destination, Meter, UserMedia } from 'tone';\n\nimport './index.css';\n\nimport { TRACK_DEFAULT } from '../../utils/constants';\n\nimport { Footer, Main } from 'components/layout';\nimport StudioTrack from 'components/studioTrack';\nimport { Master } from 'components/master';\nimport { sounds } from '../../sounds';\nimport ShortcutsLegend from 'components/ShortcutsLegend';\n\nconst songs = {\n  s001: {\n    t001: 'kick01',\n    t002: 'kick02',\n    t003: 'snare01',\n    t004: 'snare02',\n    t005: 'HAT01',\n    t006: 'HAT02',\n    t007: 'poly01'\n  }\n};\n\nconst Studio = () => {\n  const tracks = Object.entries(songs['s001']);\n  const tracksRef = useRef(tracks.map(() => createRef()));\n\n  const micRef = useRef(new UserMedia({ volume: 0 }));\n  const selectedDevice = useRef();\n\n  // useEffect(() => {\n  //   const meter = new Meter();\n  //   micRef.current.connect(meter).chain(Destination);\n  //   console.log(micRef.current.get());\n  //   console.log(micRef.current.state);\n  //   //console.log(micRef.current.enumerateDevices());\n  //   navigator.mediaDevices.enumerateDevices().then(devices => {\n  //     // print the device labels\n  //     console.log(devices.map(device => device));\n  //     selectedDevice.current = devices[1].deviceId;\n  //   });\n  //\n  //   console.log(selectedDevice.current);\n  //\n  //   micRef.current\n  //     .open()\n  //     .then(() => {\n  //       // promise resolves when input is available\n  //       console.log('mic open');\n  //       // print the incoming mic levels in decibels\n  //       setInterval(() => console.log(meter.getValue()), 100);\n  //     })\n  //     .catch(e => {\n  //       // promise is rejected when the user doesn't have or allow mic access\n  //       console.log('mic not open');\n  //     });\n  //   return () => micRef.current.close();\n  // }, []);\n\n  return (\n    <Fragment>\n      <Main id={'studio'}>\n        <Master volume={0} bpm={120} />\n        <section id={'tracks'}>\n          {tracks.map(([trackId, soundId], i) => {\n            const track = sounds[soundId];\n\n            if (track) {\n              const props = {\n                key: trackId,\n                ref: tracksRef.current[i],\n                index: i,\n                trackId,\n                ...TRACK_DEFAULT,\n                ...track\n              };\n\n              switch (track.type) {\n                case 'kick':\n                case 'hat':\n                case 'poly':\n                case 'snare':\n                  return <StudioTrack {...props} />;\n                default:\n                  return null;\n              }\n            } else {\n              return null;\n            }\n          })}\n        </section>\n      </Main>\n      <Footer />\n    </Fragment>\n  );\n};\n\nexport default Studio;\n","import React, { memo, useRef } from 'react';\n\nimport { useEventListener } from 'hooks';\n\nconst Step = memo(({ id, onClick }) => {\n  const ref = useRef();\n\n  useEventListener(\n    e => {\n      e.target.classList.add('hit');\n    },\n    ref.current,\n    'pointerdown'\n  );\n\n  useEventListener(\n    e => {\n      e.target.classList.remove('hit');\n    },\n    ref.current,\n    'pointerup'\n  );\n\n  return (\n    <button ref={ref} id={id} className={`step`} onClick={onClick}>\n      {/*<svg*/}\n      {/*  className={'step-icon'}*/}\n      {/*  xmlns={'http://www.w3.org/2000/svg'}*/}\n      {/*  viewBox={'0 0 30 30'}*/}\n      {/*  width={'100%'}*/}\n      {/*  height={'100%'}*/}\n      {/*>*/}\n      {/*  <circle cx={'15'} cy={'15'} r={'0.5'} fill={'white'} />*/}\n      {/*</svg>*/}\n    </button>\n  );\n});\n\nexport default Step;\n","import React, { memo, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { useEventListener, useSound } from 'hooks';\n\nimport { channelTypes, instrumentTypes, notesTypes } from '../../utils/types';\n\nimport Step from './step';\n\nconst BoxTrack = memo(\n  forwardRef(({ index, trackId, channel, instrument, notes, effects, controls }, ref) => {\n    const noteInterval = `16n`;\n\n    const { trigger } = useSound(channel, instrument, effects);\n\n    useEventListener(e => {\n      if (parseInt(e.key) === index + 1) {\n        document.querySelector(`button#${trackId}`).classList.add('hit');\n        handleTrigger();\n      }\n    });\n\n    useEventListener(\n      e => {\n        if (parseInt(e.key) === index + 1) {\n          document.querySelector(`button#${trackId}`).classList.remove('hit');\n        }\n      },\n      document.body,\n      'keyup'\n    );\n\n    const handleTrigger = () => {\n      trigger(notes, noteInterval);\n    };\n\n    return <Step id={trackId} onClick={handleTrigger} />;\n  })\n);\n\nexport default BoxTrack;\n\nBoxTrack.propTypes = {\n  trackId: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  instrument: instrumentTypes,\n  channel: channelTypes,\n  notes: notesTypes,\n  effects: PropTypes.object.isRequired\n};\n","import React, { useRef, createRef } from 'react';\n\nimport './index.css';\n\nimport { Main } from 'components/layout';\nimport { Master } from 'components/master';\nimport BoxTrack from '../../components/boxTrack';\n\nimport { TRACK_DEFAULT } from '../../utils/constants';\nimport { sounds } from '../../sounds';\n\nconst song = {\n  t001: 'kick01',\n  t002: 'kick02',\n  t003: 'snare01',\n  t004: 'snare02',\n  t005: 'HAT01',\n  t006: 'HAT02'\n};\n\nconst Box = () => {\n  const tracks = Object.entries(song);\n  const tracksRef = useRef(tracks.map(() => createRef()));\n\n  return (\n    <Main id={'studio'}>\n      <Master volume={0} bpm={120} />\n      <section id={'box'}>\n        {tracks.map(([trackId, soundId], i) => {\n          const track = sounds[soundId];\n\n          if (track) {\n            switch (track.type) {\n              case 'kick':\n              case 'hat':\n              case 'snare':\n                return (\n                  <BoxTrack\n                    key={trackId}\n                    ref={tracksRef.current[i]}\n                    index={i}\n                    trackId={trackId}\n                    {...TRACK_DEFAULT}\n                    {...track}\n                  />\n                );\n              default:\n                break;\n            }\n          } else {\n            return null;\n          }\n        })}\n      </section>\n    </Main>\n  );\n};\n\nexport default Box;\n","import React, { memo, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n//Only instruments that extend the Monophonic class can be used with Tone.PolySynth\n//AMSynth, DuoSynth, FMSynth, MembraneSynth, MetalSynth, Synth\n\nimport { useEventListener, useSound } from 'hooks';\n\nimport { channelTypes, instrumentTypes, notesTypes, stepsTypes } from '../../utils/types';\n\nimport Track from '../trackContainer';\nimport StepSequencer from '../stepSequencer';\nimport { TrackEffects, EffectsGroup } from '../trackEffects';\nimport { ControlHandler } from '../controls/ControlHandler';\n\n//const notes = ['A4', 'D3', 'E3', 'G4', 'F#4'];\nconst notes = ['A3', 'C4', 'D4', 'E4', 'G4', 'A4'];\n\n// const delay = useRef(\n//     new FeedbackDelay({\n//       delayTime: `${Math.floor(numCols / 2)}n`,\n//       feedback: 1 / 3,\n//       wet: 0.2\n//     })\n// );\n\nconst PolyTrack = memo(\n  forwardRef(\n    ({ index, trackId, channel, instrument, notes, stepCount, steps, effects, controls }, ref) => {\n      const sound = useSound(channel, instrument, effects);\n\n      useEventListener(e => {\n        if (parseInt(e.key) === index + 1) {\n          if (e.shiftKey) {\n            // const steps = document.querySelectorAll(`.t00${e.key}-step`);\n            // if (!e.altKey) {\n            //   steps.forEach(step => step.setAttribute('value', 'on'));\n            // } else {\n            //   steps.forEach(step => step.setAttribute('value', 'off'));\n            // }\n          }\n        }\n      });\n\n      return (\n        <Track trackId={trackId}>\n          <StepSequencer\n            trackId={trackId}\n            notes={notes}\n            stepCount={stepCount}\n            steps={steps}\n            onStep={sound.trigger}\n          />\n          <TrackEffects trackId={trackId}>\n            {Object.entries(controls ?? {}).map(([group, value], i) => {\n              return (\n                <EffectsGroup key={i} span={value.span} title={group}>\n                  {value.effects.map((name, i) => {\n                    const node = sound.effects.find(effect => effect.name === name);\n                    if (node) {\n                      return <ControlHandler key={i} trackId={trackId} name={name} node={node} />;\n                    } else {\n                      return null;\n                    }\n                  })}\n                </EffectsGroup>\n              );\n            })}\n            <EffectsGroup span={'17 / span 4'} title={'envelope'}>\n              <ControlHandler trackId={trackId} name={'Envelope'} node={sound.synth?.envelope} />\n            </EffectsGroup>\n          </TrackEffects>\n        </Track>\n      );\n    }\n  )\n);\n\nexport default PolyTrack;\n\nPolyTrack.propTypes = {\n  trackId: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  instrument: instrumentTypes,\n  stepCount: PropTypes.number.isRequired,\n  channel: channelTypes,\n  notes: notesTypes,\n  steps: stepsTypes,\n  effects: PropTypes.object.isRequired,\n  controls: PropTypes.object.isRequired\n};\n","import React, { useRef, createRef } from 'react';\n\nimport './index.css';\n\nimport { TRACK_DEFAULT } from '../../utils/constants';\n\nimport { Main } from 'components/layout';\nimport PolyTrack from 'components/polyTrack';\nimport { Master } from 'components/master';\nimport { sounds } from '../../sounds';\n\nconst songs = {\n  t001: 'poly01'\n};\n\nconst steps = [\n  [1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1],\n  [0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n  [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0]\n];\n\nconst Studio = () => {\n  const tracks = Object.entries(songs);\n  const tracksRef = useRef(tracks.map(() => createRef()));\n\n  return (\n    <Main id={'studio'}>\n      <Master volume={0} bpm={120} />\n      <div className={'poly'}>\n        {tracks.map(([trackId, soundId], i) => {\n          const track = sounds[soundId];\n\n          if (track) {\n            const props = {\n              key: trackId,\n              ref: tracksRef.current[i],\n              index: i,\n              trackId,\n              ...TRACK_DEFAULT,\n              ...track\n            };\n\n            switch (track.type) {\n              case 'poly':\n                return <PolyTrack {...props} steps={steps} />;\n              default:\n                return null;\n            }\n          } else {\n            return null;\n          }\n        })}\n      </div>\n    </Main>\n  );\n};\n\nexport default Studio;\n","import React, { useRef } from 'react';\nimport { Oscillator as Osc, Distortion, Destination, Filter, Tremolo } from 'tone';\n\nimport './index.css';\n\nimport { interpolate } from 'utils/studioHelpers';\nimport { useEventListener, usePointer } from 'hooks';\n\nconst Oscillator = () => {\n  const pointer = usePointer();\n\n  const distortionRef = useRef(new Distortion(0.8));\n\n  const filterRef = useRef(\n    new Filter({\n      type: 'lowpass',\n      frequency: 1100,\n      rolloff: -12,\n      Q: 1,\n      gain: 12\n    })\n  );\n\n  const tremoloRef = useRef(new Tremolo(9, 1));\n\n  const oscillatorRef = useRef(\n    new Osc({\n      type: 'sine',\n      frequency: 440,\n      detune: 0,\n      phase: 0,\n      volume: 0\n    }).chain(distortionRef.current, tremoloRef.current, filterRef.current, Destination)\n  );\n\n  const interpolateX = interpolate({ to: [0, 440], clamp: true });\n\n  const interpolateY = interpolate({ to: [0, 32], clamp: true });\n\n  useEventListener(e => {\n    switch (e.key) {\n      case 'Shift':\n        filterRef.current.set({ type: 'highpass' });\n        break;\n      case 'Alt':\n        tremoloRef.current.start();\n        break;\n      default:\n        break;\n    }\n  });\n\n  useEventListener(\n    e => {\n      switch (e.key) {\n        case 'Shift':\n          filterRef.current.set({ type: 'lowpass' });\n          break;\n        case 'Alt':\n          tremoloRef.current.stop();\n          break;\n        default:\n          break;\n      }\n    },\n    document.body,\n    'keyup'\n  );\n\n  return (\n    <div\n      id={'oscillator'}\n      onPointerDown={() => oscillatorRef.current.start()}\n      onPointerUp={() => oscillatorRef.current.stop()}\n      onPointerEnter={() => {\n        if (pointer.isDown) {\n          oscillatorRef.current.start();\n        }\n      }}\n      onPointerLeave={() => {\n        if (oscillatorRef.current.state === 'stated') {\n          oscillatorRef.current.stop();\n        }\n      }}\n      onPointerMove={e => {\n        const { x, y, width, height } = e.target.getBoundingClientRect();\n\n        const frequency = Math.abs(Math.round(interpolateX(e.clientX - x, { from: [0, width] })));\n\n        const partialCount = Math.abs(\n          Math.round(interpolateY(e.clientY - y, { from: [0, height] }))\n        );\n\n        oscillatorRef.current.set({ frequency, partialCount });\n      }}\n    />\n  );\n};\n\nexport default Oscillator;\n","import React, { useEffect, useState } from 'react';\n\nconst usePointer = (element = document.body) => {\n  const [isDown, setIsDown] = useState(false);\n\n  useEffect(() => {\n    const isSupported = element && element.addEventListener;\n    if (!isSupported) return;\n\n    const handleMouseDown = () => setIsDown(true);\n    const handleMouseUp = () => setIsDown(false);\n\n    element.addEventListener('pointerdown', handleMouseDown);\n    element.addEventListener('pointerup', handleMouseUp);\n\n    return () => {\n      element.removeEventListener('pointerdown', handleMouseDown);\n      element.removeEventListener('pointerup', handleMouseUp);\n    };\n  }, [element]);\n\n  return { isDown };\n};\n\nexport default usePointer;\n","import React from 'react';\n\nimport { Main } from 'components/layout';\nimport { Master } from 'components/master';\nimport Oscillator from '../../components/oscillator';\n\nconst Page = () => {\n  return (\n    <Main id={'studio'}>\n      <Master volume={0} bpm={120} />\n      <Oscillator />\n    </Main>\n  );\n};\n\nexport default Page;\n","import React from 'react';\nimport { Routes, Route } from 'react-router-dom';\n\nimport './styles.css';\n\nimport { Footer } from 'components/layout';\nimport Home from './pages/home';\nimport Studio from './pages/studio';\nimport Box from './pages/box';\nimport Poly from './pages/poly';\nimport Oscillator from './pages/oscillator';\nimport { MasterProvider } from 'components/master';\n\nconst App = () => (\n  <div className={'me'}>\n    <Routes>\n      <Route exact path=\"/\" element={<Home />} />\n      <Route\n        exact\n        path=\"studio\"\n        element={\n          <MasterProvider>\n            <Studio />\n          </MasterProvider>\n        }\n      />\n      <Route path=\"studio/*\" element={<StudioRoutes />} />\n      <Route path={'*'} element={<Home />} />\n    </Routes>\n  </div>\n);\n\nconst StudioRoutes = () => (\n  <>\n    <Routes>\n      <Route\n        exact\n        path=\"box\"\n        element={\n          <MasterProvider>\n            <Box />\n          </MasterProvider>\n        }\n      />\n      <Route\n        exact\n        path=\"poly\"\n        element={\n          <MasterProvider>\n            <Poly />\n          </MasterProvider>\n        }\n      />\n      <Route\n        exact\n        path=\"oscillator\"\n        element={\n          <MasterProvider>\n            <Oscillator />\n          </MasterProvider>\n        }\n      />\n    </Routes>\n    <Footer />\n  </>\n);\n\nexport default App;\n","import { combineReducers } from 'redux';\n\nconst createRootReducer = () => combineReducers({});\n\nexport default createRootReducer;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider, ReactReduxContext } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { ErrorBoundary } from '@eoghanmccarthy/ui';\n\nimport configureStore from './store/configureStore';\n\nimport App from './src';\n\nimport './index.css';\n\nconst initialState = {};\n\nconst { store, persistor } = configureStore(initialState);\n\nconst MOUNT_NODE = document.getElementById('root');\n\nconst queryClient = new QueryClient();\n\nrender(\n  <QueryClientProvider client={queryClient}>\n    <Provider store={store} context={ReactReduxContext}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <ErrorBoundary>\n            <App />\n          </ErrorBoundary>\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </QueryClientProvider>,\n  MOUNT_NODE\n);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktheseboys\"] = self[\"webpackChunktheseboys\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [216], function() { return __webpack_require__(4213); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}